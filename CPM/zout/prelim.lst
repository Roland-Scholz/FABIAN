   1:					.title	'Preliminary Z80 tests'
   2:				
   3:				; prelim.z80 - Preliminary Z80 tests
   4:				; Copyright (C) 1994  Frank D. Cringle
   5:				;
   6:				; This program is free software; you can redistribute it and/or
   7:				; modify it under the terms of the GNU General Public License
   8:				; as published by the Free Software Foundation; either version 2
   9:				; of the License, or (at your option) any later version.
  10:				;
  11:				; This program is distributed in the hope that it will be useful,
  12:				; but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:				; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:				; GNU General Public License for more details.
  15:				;
  16:				; You should have received a copy of the GNU General Public License
  17:				; along with this program; if not, write to the Free Software
  18:				; Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
  19:				
  20:				
  21:				; These tests have two goals.  To start with, we assume the worst and
  22:				; successively test the instructions needed to continue testing.
  23:				; Then we try to test all instructions which cannot be handled by
  24:				; zexlax - the crc-based instruction exerciser.
  25:				
  26:				; Initially errors are 'reported' by jumping to 0.  This should reboot
  27:				; cp/m, so if the program terminates without any output one of the
  28:				; early tests failed.  Later errors are reported by outputting an
  29:				; address via the bdos conout routine.  The address can be located in
  30:				; a listing of this program.
  31:				
  32:				; If the program runs to completion it displays a suitable message.
  33:				
  34:					aseg
  35:     -	0100          		org	100h
  36:				
  37:    0+7	0100  3E01    	start:	ld	a,1		; test simple compares and z/nz jumps
  38:    7+7	0102  FE02    		cp	2
  39:   14+10	0104  CA0000  		jp	z,0
  40:   24+7	0107  FE01    		cp	1
  41:   31+10	0109  C20000  		jp	nz,0
  42:   41+10	010C  C31101  		jp	lab0
P Phase error - $010e changed from $00 to $01
  43:   51+4	010F  76      		halt			; emergency exit
  44:     -	0110  FF      		db	0ffh
  45:				
  46:   55+17	0111  CD1701  	lab0:	call	lab2		; does a simple call work?
  47:   72+10	0114  C30000  	lab1:	jp	0		; fail
  48:				
  49:   82+10	0117  E1      	lab2:	pop	hl		; check return address
  50:   92+4	0118  7C      		ld	a,h
  51:   96+7	0119  FE01    		cp	high lab1
  52:  103+10	011B  CA2101  		jp	z,lab3
  53:  113+10	011E  C30000  		jp	0
  54:  123+4	0121  7D      	lab3:	ld	a,l
  55:  127+7	0122  FE14    		cp	low lab1
  56:  134+10	0124  CA2A01  		jp	z,lab4
  57:  144+10	0127  C30000  		jp	0
  58:				
  59:				; test presence and uniqueness of all machine registers
  60:				; (except ir)
  61:  154+10	012A  31E402  	lab4:	ld	sp,regs1
  62:  164+10	012D  F1      		pop	af
  63:  174+10	012E  C1      		pop	bc
  64:  184+10	012F  D1      		pop	de
  65:  194+10	0130  E1      		pop	hl
  66:  204+4	0131  08      		ex	af,af'
  67:  208+4	0132  D9      		exx
  68:  212+10	0133  F1      		pop	af
  69:  222+10	0134  C1      		pop	bc
  70:  232+10	0135  D1      		pop	de
  71:  242+10	0136  E1      		pop	hl
  72:  252+14	0137  DDE1    		pop	ix
  73:  266+14	0139  FDE1    		pop	iy
  74:  280+10	013B  310C03  		ld	sp,regs2+20
  75:  290+15	013E  FDE5    		push	iy
  76:  305+15	0140  DDE5    		push	ix
  77:  320+11	0142  E5      		push	hl
  78:  331+11	0143  D5      		push	de
  79:  342+11	0144  C5      		push	bc
  80:  353+11	0145  F5      		push	af
  81:  364+4	0146  08      		ex	af,af'
  82:  368+4	0147  D9      		exx
  83:  372+11	0148  E5      		push	hl
  84:  383+11	0149  D5      		push	de
  85:  394+11	014A  C5      		push	bc
  86:  405+11	014B  F5      		push	af
  87:				
  88:     -	014C          	v:	set	0
F Syntax error
M Mult. def. error
  94:     -	014C          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	014C          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  416+7	014C  BE      		cp	v
G Register usage error
  94:  423+10	014D  C20000  		jp	nz,0
  94:     -	0150          		endm
  94:     -	0150          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0150          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  433+7	0150  BE      		cp	v
G Register usage error
  94:  440+10	0151  C20000  		jp	nz,0
  94:     -	0154          		endm
  94:     -	0154          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0154          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  450+7	0154  BE      		cp	v
G Register usage error
  94:  457+10	0155  C20000  		jp	nz,0
  94:     -	0158          		endm
  94:     -	0158          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0158          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  467+7	0158  BE      		cp	v
G Register usage error
  94:  474+10	0159  C20000  		jp	nz,0
  94:     -	015C          		endm
  94:     -	015C          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	015C          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  484+7	015C  BE      		cp	v
G Register usage error
  94:  491+10	015D  C20000  		jp	nz,0
  94:     -	0160          		endm
  94:     -	0160          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0160          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  501+7	0160  BE      		cp	v
G Register usage error
  94:  508+10	0161  C20000  		jp	nz,0
  94:     -	0164          		endm
  94:     -	0164          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0164          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  518+7	0164  BE      		cp	v
G Register usage error
  94:  525+10	0165  C20000  		jp	nz,0
  94:     -	0168          		endm
  94:     -	0168          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0168          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  535+7	0168  BE      		cp	v
G Register usage error
  94:  542+10	0169  C20000  		jp	nz,0
  94:     -	016C          		endm
  94:     -	016C          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	016C          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  552+7	016C  BE      		cp	v
G Register usage error
  94:  559+10	016D  C20000  		jp	nz,0
  94:     -	0170          		endm
  94:     -	0170          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0170          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  569+7	0170  BE      		cp	v
G Register usage error
  94:  576+10	0171  C20000  		jp	nz,0
  94:     -	0174          		endm
  94:     -	0174          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0174          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  586+7	0174  BE      		cp	v
G Register usage error
  94:  593+10	0175  C20000  		jp	nz,0
  94:     -	0178          		endm
  94:     -	0178          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0178          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  603+7	0178  BE      		cp	v
G Register usage error
  94:  610+10	0179  C20000  		jp	nz,0
  94:     -	017C          		endm
  94:     -	017C          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	017C          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  620+7	017C  BE      		cp	v
G Register usage error
  94:  627+10	017D  C20000  		jp	nz,0
  94:     -	0180          		endm
  94:     -	0180          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0180          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  637+7	0180  BE      		cp	v
G Register usage error
  94:  644+10	0181  C20000  		jp	nz,0
  94:     -	0184          		endm
  94:     -	0184          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0184          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  654+7	0184  BE      		cp	v
G Register usage error
  94:  661+10	0185  C20000  		jp	nz,0
  94:     -	0188          		endm
  94:     -	0188          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0188          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  671+7	0188  BE      		cp	v
G Register usage error
  94:  678+10	0189  C20000  		jp	nz,0
  94:     -	018C          		endm
  94:     -	018C          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	018C          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  688+7	018C  BE      		cp	v
G Register usage error
  94:  695+10	018D  C20000  		jp	nz,0
  94:     -	0190          		endm
  94:     -	0190          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0190          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  705+7	0190  BE      		cp	v
G Register usage error
  94:  712+10	0191  C20000  		jp	nz,0
  94:     -	0194          		endm
  94:     -	0194          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0194          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  722+7	0194  BE      		cp	v
G Register usage error
  94:  729+10	0195  C20000  		jp	nz,0
  94:     -	0198          		endm
  94:     -	0198          		ld	a,(regs2+v/2)
F Syntax error
  94:     -	0198          	v:	set	v+2
F Syntax error
M Mult. def. error
  94:  739+7	0198  BE      		cp	v
G Register usage error
  94:  746+10	0199  C20000  		jp	nz,0
  94:     -	019C          		endm
  89:  416+340	014C  BEC20000		rept	20
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
	              BEC20000
  95:				
  96:				; test access to memory via (hl)
  97:  756+10	019C  210C03  		ld	hl,hlval ; 0x1EC
  98:  766+7	019F  7E      		ld	a,(hl)
  99:  773+7	01A0  FEA5    		cp	0a5h
 100:  780+10	01A2  C20000  		jp	nz,0
 101:  790+10	01A5  210D03  		ld	hl,hlval+1
 102:  800+7	01A8  7E      		ld	a,(hl)
 103:  807+7	01A9  FE3C    		cp	03ch
 104:  814+10	01AB  C20000  		jp	nz,0
 105:				
 106:				; test unconditional return
 107:  824+10	01AE  310005  		ld	sp,stack
 108:  834+10	01B1  21B901  		ld	hl,reta
 109:  844+11	01B4  E5      		push	hl
 110:  855+10	01B5  C9      		ret
 111:  865+10	01B6  C30000  		jp	0
 112:				
 113:				; test instructions needed for hex output
 114:  875+7	01B9  3EFF    	reta:	ld	a,255 ; 0x209
 115:  882+7	01BB  E60F    		and	a,15
 116:  889+7	01BD  FE0F    		cp	15
 117:  896+10	01BF  C20000  		jp	nz,0
 118:  906+7	01C2  3E5A    		ld	a,05ah
 119:  913+7	01C4  E60F    		and	15
 120:  920+7	01C6  FE0A    		cp	00ah
 121:  927+10	01C8  C20000  		jp	nz,0
 122:  937+4	01CB  0F      		rrca
 123:  941+7	01CC  FE05    		cp	005h
 124:  948+10	01CE  C20000  		jp	nz,0
 125:  958+4	01D1  0F      		rrca
 126:  962+7	01D2  FE82    		cp	082h
 127:  969+10	01D4  C20000  		jp	nz,0
 128:  979+4	01D7  0F      		rrca
 129:  983+7	01D8  FE41    		cp	041h
 130:  990+10	01DA  C20000  		jp	nz,0
 131: 1000+4	01DD  0F      		rrca
 132: 1004+7	01DE  FEA0    		cp	0a0h
 133: 1011+10	01E0  C20000  		jp	nz,0
 134: 1021+10	01E3  213412  		ld	hl,01234h
 135: 1031+11	01E6  E5      		push	hl
 136: 1042+10	01E7  C1      		pop	bc
 137: 1052+4	01E8  78      		ld	a,b
 138: 1056+7	01E9  FE12    		cp	012h
 139: 1063+10	01EB  C20000  		jp	nz,0
 140: 1073+4	01EE  79      		ld	a,c
 141: 1077+7	01EF  FE34    		cp	034h
 142: 1084+10	01F1  C20000  		jp	nz,0 ; 0x241
 143:				
 144:				; from now on we can report errors by displaying an address
 145:				
 146:				; test conditional call, ret, jp, jr
 147:     -	01F4          	tcond:	macro	flag,pcond,ncond,rel
F Syntax error
M Mult. def. error
 148:     -	01F4          		ld	hl,&flag ; 0x244
F Syntax error
 149: 1094+11	01F4  E5      		push	hl
 150: 1105+10	01F5  F1      		pop	af
 151:     -	01F6          		call	&pcond,lab1&pcond ; error here at 0x24c
F Syntax error
 152: 1115+10	01F6  C3AE02  		jp	error
 153:     -	01F9          	lab1&pcond:	pop	hl
F Syntax error
 154:     -	01F9          		ld	hl,0d7h xor &flag
F Syntax error
 155: 1125+11	01F9  E5      		push	hl
 156: 1136+10	01FA  F1      		pop	af
 157:     -	01FB          		call	&ncond,lab2&pcond
F Syntax error
 158: 1146+10	01FB  C3AE02  		jp	error
 159:     -	01FE          	lab2&pcond:	pop	hl
F Syntax error
 160: 1156+10	01FE  210000  		ld	hl,lab3&pcond
U 'pcond' Undeclared
 161: 1166+11	0201  E5      		push	hl
 162:     -	0202          		ld	hl,&flag
F Syntax error
 163: 1177+11	0202  E5      		push	hl
 164: 1188+10	0203  F1      		pop	af
 165: 1198+10	0204  C9      		ret	&pcond
F Syntax error
 166: 1208+17	0205  CDAE02  		call	error
 167:     -	0208          	lab3&pcond:	ld	hl,lab4&pcond
F Syntax error
 168: 1225+11	0208  E5      		push	hl
 169:     -	0209          		ld	hl,0d7h xor &flag
F Syntax error
 170: 1236+11	0209  E5      		push	hl
 171: 1247+10	020A  F1      		pop	af
 172: 1257+10	020B  C9      		ret	&ncond
F Syntax error
 173: 1267+17	020C  CDAE02  		call	error
 174:     -	020F          	lab4&pcond:	ld	hl,&flag
F Syntax error
 175: 1284+11	020F  E5      		push	hl
 176: 1295+10	0210  F1      		pop	af
 177:     -	0211          		jp	&pcond,lab5&pcond
F Syntax error
 178: 1305+17	0211  CDAE02  		call	error
 179:     -	0214          	lab5&pcond:	ld	hl,0d7h xor &flag
F Syntax error
 180: 1322+11	0214  E5      		push	hl
 181: 1333+10	0215  F1      		pop	af
 182:     -	0216          		jp	&ncond,lab6&pcond
F Syntax error
 183: 1343+17	0216  CDAE02  		call	error
 184:     -	0219          	lab6&pcond:
F Syntax error
 185:     -	0219          	      if	&rel
F Syntax error
 186:     -	0219          		ld	hl,&flag
F Syntax error
 187: 1360+11	0219  E5      		push	hl
 188: 1371+10	021A  F1      		pop	af
 189:     -	021B          		jr	&pcond,lab7&pcond
F Syntax error
 190: 1381+17	021B  CDAE02  		call	error
 191:     -	021E          	lab7&pcond:	ld	hl,0d7h xor &flag
F Syntax error
 192: 1398+11	021E  E5      		push	hl
 193: 1409+10	021F  F1      		pop	af
 194:     -	0220          		jr	&ncond,lab8&pcond
F Syntax error
 195: 1419+17	0220  CDAE02  		call	error
 196:     -	0223          	lab8&pcond:
F Syntax error
 197:				      endif
B Balance error
 198:     -	0223          		endm
 199:				
 200:     -	0223          		tcond	1,c,nc,1
F Syntax error
M Mult. def. error
 201:     -	0223          		tcond	4,pe,po,0
F Syntax error
M Mult. def. error
 202:     -	0223          		tcond	040h,z,nz,1
F Syntax error
M Mult. def. error
 203:     -	0223          		tcond	080h,m,p,0
F Syntax error
M Mult. def. error
 204:				
 205:				; test indirect jumps
 206: 1436+10	0223  212A02  		ld	hl,lab5
 207: 1446+4	0226  E9      		jp	(hl)
 208: 1450+17	0227  CDAE02  		call	error
 209: 1467+10	022A  213502  	lab5:	ld	hl,lab6
 210: 1477+11	022D  E5      		push	hl
 211: 1488+14	022E  DDE1    		pop	ix
 212: 1502+8	0230  DDE9    		jp	(ix)
 213: 1510+17	0232  CDAE02  		call	error
 214: 1527+10	0235  214002  	lab6:	ld	hl,lab7
 215: 1537+11	0238  E5      		push	hl
 216: 1548+14	0239  FDE1    		pop	iy
 217: 1562+8	023B  FDE9    		jp	(iy)
 218: 1570+17	023D  CDAE02  		call	error
 219:				
 220:				; djnz (and (partially) inc a, inc hl)
 221: 1587+7	0240  3EA5    	lab7:	ld	a,0a5h
 222: 1594+7	0242  0604    		ld	b,4
 223: 1601+4	0244  0F      	lab8:	rrca
 224: 1605+8+5	0245  10FD    		djnz	lab8
 225: 1613+7	0247  FE5A    		cp	05ah
 226: 1620+10+7	0249  C4AE02  		call	nz,error
 227: 1630+7	024C  0610    		ld	b,16
 228: 1637+4	024E  3C      	lab9:	inc	a
 229: 1641+8+5	024F  10FD    		djnz	lab9
 230: 1649+7	0251  FE6A    		cp	06ah
 231: 1656+10+7	0253  C4AE02  		call	nz,error
 232: 1666+7	0256  0600    		ld	b,0
 233: 1673+10	0258  210000  		ld	hl,0
 234: 1683+6	025B  23      	lab10:	inc	hl
 235: 1689+8+5	025C  10FD    		djnz	lab10
 236: 1697+4	025E  7C      		ld	a,h
 237: 1701+7	025F  FE01    		cp	1
 238: 1708+10+7	0261  C4AE02  		call	nz,error
 239: 1718+4	0264  7D      		ld	a,l
 240: 1722+7	0265  FE00    		cp	0
 241: 1729+10+7	0267  C4AE02  		call	nz,error ; 0x03CA (not sure)
 242:				
 243:				; relative addressing
 244:     -	026A          	reladr:	macro	r
F Syntax error
M Mult. def. error
 245:     -	026A          		ld	&r,hlval
F Syntax error
 246:     -	026A          		ld	a,(&r)
F Syntax error
 247: 1739+7	026A  FEA5    		cp	0a5h
 248: 1746+10+7	026C  C4AE02  		call	nz,error
 249:     -	026F          		ld	a,(&r+1)
F Syntax error
 250: 1756+7	026F  FE3C    		cp	03ch
 251: 1763+10+7	0271  C4AE02  		call	nz,error
 252:     -	0274          		inc	&r
F Syntax error
 253:     -	0274          		ld	a,(&r-1)
F Syntax error
 254: 1773+7	0274  FEA5    		cp	0a5h
 255: 1780+10+7	0276  C4AE02  		call	nz,error ; bug here => A is not 0xA5, but 0x00
 256:     -	0279          		ld	&r,hlval-126
F Syntax error
 257:     -	0279          		ld	a,(&r+127)
F Syntax error
 258: 1790+7	0279  FE3C    		cp	03ch
 259: 1797+10+7	027B  C4AE02  		call	nz,error
 260:     -	027E          		ld	&r,hlval+128
F Syntax error
 261:     -	027E          		ld	a,(&r-128)
F Syntax error
 262: 1807+7	027E  FEA5    		cp	0a5h
 263: 1814+10+7	0280  C4AE02  		call	nz,error
 264:     -	0283          		endm
 265:				
 266:     -	0283          		reladr	ix
F Syntax error
M Mult. def. error
 267:     -	0283          		reladr	iy
F Syntax error
M Mult. def. error
 268:				
 269: 1824+10	0283  119302  	allok:	ld	de, okmsg
 270: 1834+7	0286  1A      	allok1:	ld	a, (de)
 271: 1841+7	0287  FE24    		cp	'$'
 272: 1848+7+5	0289  2806    		jr	Z, end
 273: 1855+17	028B  CDE102  		call	conout
 274: 1872+6	028E  13      		inc	de
 275: 1878+12	028F  18F5    		jr	allok1
 276: 1890+12	0291  18FE    	end:	jr	end
 277:				
 278:     -	0293  5072656C	okmsg:	db	'Preliminary tests complete$'
	              696D696E
	              61727920
	              74657374
	              7320636F
	              6D706C65
	              746524
 279:				
 280:				
 281:				; display address at top of stack and exit
 282: 1902+10	02AE  C1      	error:	pop	bc ; 0x0465
 283: 1912+7	02AF  2604    		ld	h,high hextab
 284: 1919+4	02B1  78      		ld	a,b
 285: 1923+4	02B2  0F      		rrca
 286: 1927+4	02B3  0F      		rrca
 287: 1931+4	02B4  0F      		rrca
 288: 1935+4	02B5  0F      		rrca
 289: 1939+7	02B6  E60F    		and	15
 290: 1946+4	02B8  6F      		ld	l,a
 291: 1950+7	02B9  7E      		ld	a,(hl)
 292: 1957+17	02BA  CDE102  		call	conout
 293: 1974+4	02BD  78      		ld	a,b
 294: 1978+7	02BE  E60F    		and	15
 295: 1985+4	02C0  6F      		ld	l,a
 296: 1989+7	02C1  7E      		ld	a,(hl)
 297: 1996+17	02C2  CDE102  		call	conout
 298: 2013+4	02C5  79      		ld	a,c
 299: 2017+4	02C6  0F      		rrca
 300: 2021+4	02C7  0F      		rrca
 301: 2025+4	02C8  0F      		rrca
 302: 2029+4	02C9  0F      		rrca
 303: 2033+7	02CA  E60F    		and	15
 304: 2040+4	02CC  6F      		ld	l,a
 305: 2044+7	02CD  7E      		ld	a,(hl)
 306: 2051+17	02CE  CDE102  		call	conout
 307: 2068+4	02D1  79      		ld	a,c
 308: 2072+7	02D2  E60F    		and	15
 309: 2079+4	02D4  6F      		ld	l,a
 310: 2083+7	02D5  7E      		ld	a,(hl)
 311: 2090+17	02D6  CDE102  		call	conout
 312:				;	ld	a,13
 313:				;	call	conout
 314: 2107+7	02D9  3E0A    		ld	a,10
 315: 2114+17	02DB  CDE102  		call	conout
 316: 2131+10	02DE  C30000  		jp	0
 317:				
 318:     -	02E1          	conout:	
 319: 2141+11	02E1  D301    		out (1), a
 320:				;	push	af
 321:				;	push	bc
 322:				;	push	de
 323:				;	push	hl
 324:				;	ld	c,2
 325:				;	ld	e,a
 326:				;	call	5
 327:				;	pop	hl
 328:				;	pop	de
 329:				;	pop	bc
 330:				;	pop	af
 331: 2152+10	02E3  C9      		ret
 332:				
 333:     -	02E4          	v:	set	0
F Syntax error
M Mult. def. error
 337:     -	02E4          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02E4  4C      		db	v
 337:     -	02E5          		endm
 337:     -	02E5          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02E5  4C      		db	v
 337:     -	02E6          		endm
 337:     -	02E6          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02E6  4C      		db	v
 337:     -	02E7          		endm
 337:     -	02E7          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02E7  4C      		db	v
 337:     -	02E8          		endm
 337:     -	02E8          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02E8  4C      		db	v
 337:     -	02E9          		endm
 337:     -	02E9          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02E9  4C      		db	v
 337:     -	02EA          		endm
 337:     -	02EA          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02EA  4C      		db	v
 337:     -	02EB          		endm
 337:     -	02EB          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02EB  4C      		db	v
 337:     -	02EC          		endm
 337:     -	02EC          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02EC  4C      		db	v
 337:     -	02ED          		endm
 337:     -	02ED          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02ED  4C      		db	v
 337:     -	02EE          		endm
 337:     -	02EE          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02EE  4C      		db	v
 337:     -	02EF          		endm
 337:     -	02EF          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02EF  4C      		db	v
 337:     -	02F0          		endm
 337:     -	02F0          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02F0  4C      		db	v
 337:     -	02F1          		endm
 337:     -	02F1          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02F1  4C      		db	v
 337:     -	02F2          		endm
 337:     -	02F2          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02F2  4C      		db	v
 337:     -	02F3          		endm
 337:     -	02F3          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02F3  4C      		db	v
 337:     -	02F4          		endm
 337:     -	02F4          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02F4  4C      		db	v
 337:     -	02F5          		endm
 337:     -	02F5          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02F5  4C      		db	v
 337:     -	02F6          		endm
 337:     -	02F6          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02F6  4C      		db	v
 337:     -	02F7          		endm
 337:     -	02F7          	v:	set	v+2
F Syntax error
M Mult. def. error
 337:     -	02F7  4C      		db	v
 337:     -	02F8          		endm
 334:     -	02E4  4C4C4C4C	regs1:	rept	20
	              4C4C4C4C
	              4C4C4C4C
	              4C4C4C4C
	              4C4C4C4C
 338:				
 339:     -	02F8 ..030B 00	regs2:	ds	20,0
 340:				
 341:     -	030C  A53C    	hlval:	db	0a5h,03ch
 342:				
 343:				; skip to next page boundary
 344:     -	0400          		org	(($+255)/256)*256
 345:     -	0400  30313233	hextab:	db	'0123456789abcdef'
	              34353637
	              38396162
	              63646566
 346:     -	0410          		ds	240
 347:     -	0500          	stack:	equ	$
 348:				
**** prelim.asm ****
 349:     -	0500          		end



Error + Warning report:

   174 errors
     0 warnings
     1 B -- Balance error
   101 F -- Syntax error
    50 M -- Mult. def. error
     1 P -- Phase error
     1 U -- Undeclared error
    20 G -- Register usage error

     2	passes
     0	jr promotions
    27	symbols
   542	bytes

    40	macro calls
    75	macro bytes
     0	invented symbols



Symbol Table:

allok            283      643
allok1           286      646
conout           2E1      737
end              291      657
error            2AE      686
hextab           400      1024
hlval            30C      780
lab0             111      273
lab1             114      276
lab10            25B      603
lab2             117      279
lab3             121      289
lab4             12A      298
lab5             22A      554
lab6             235      565
lab7             240      576
lab8             244      580
lab9             24E      590
okmsg            293      659
regs1            2E4      740
regs2            2F8      760
reladr           26A      618
reta             1B9      441
stack          = 500      1280
start            100      256
tcond            1F4      500
v                14C      332
