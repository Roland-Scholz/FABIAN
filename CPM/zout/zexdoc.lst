   1:					title	'Z80 instruction set exerciser'
   2:				
   3:				; zexdoc.src - Z80 documented instruction set exerciser
   4:				; Original Copyright (C) 1994  Frank D. Cringle
   5:				; Changes at 03-Nov-2002 Copyright (C) 2002 J.G.Harston
   6:				; + Source syntax tweeked to assemble with ZMAC Z80 Macro Assembler
   7:				;   and MAXAM Assembler, marked in the source with 'jgh:'
   8:				; + labels on equates mustn't have trailing colon
   9:				; + macros don't understand <...> sequence, so parameters are passed
  10:				;   explicitly
  11:				; + ds n,c not supported, so strings are set to full explicity length
  12:				;
  13:				; This program is free software; you can redistribute it and/or
  14:				; modify it under the terms of the GNU General Public License
  15:				; as published by the Free Software Foundation; either version 2
  16:				; of the License, or (at your option) any later version.
  17:				;
  18:				; This program is distributed in the hope that it will be useful,
  19:				; but WITHOUT ANY WARRANTY; without even the implied warranty of
  20:				; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  21:				; GNU General Public License for more details.
  22:				;
  23:				; You should have received a copy of the GNU General Public License
  24:				; along with this program; if not, write to the Free Software
  25:				; Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
  26:				
  27:					aseg
  28:     -	0100          		org	100h
  29:				
  30:    0+10	0100  C31301  		jp	start
  31:				
  32:				; machine state before test (needs to be at predictably constant address)
  33:     -	0103          	msbt:	ds	14
  34:     -	0111          	spbt:	ds	2
  35:     -	0001          	msbthi	equ	msbt / 0100h
  36:     -	0003          	msbtlo	equ	msbt & 0ffh
  37:				
  38:				
  39:				; For the purposes of this test program, the machine state consists of:
  40:				;	a 2 byte memory operand, followed by
  41:				;	the registers iy,ix,hl,de,bc,af,sp
  42:				; for a total of 16 bytes.
  43:				
  44:				; The program tests instructions (or groups of similar instructions)
  45:				; by cycling through a sequence of machine states, executing the test
  46:				; instruction for each one and running a 32-bit crc over the resulting
  47:				; machine states.  At the end of the sequence the crc is compared to
  48:				; an expected value that was found empirically on a real Z80.
  49:				
  50:				; A test case is defined by a descriptor which consists of:
  51:				;	a flag mask byte,
  52:				;	the base case,
  53:				;	the incement vector,
  54:				;	the shift vector,
  55:				;	the expected crc,
  56:				;	a short descriptive message.
  57:				;
  58:				; The flag mask byte is used to prevent undefined flag bits from
  59:				; influencing the results.  Documented flags are as per Mostek Z80
  60:				; Technical Manual.
  61:				;
  62:				; The next three parts of the descriptor are 20 byte vectors
  63:				; corresponding to a 4 byte instruction and a 16 byte machine state.
  64:				; The first part is the base case, which is the first test case of
  65:				; the sequence.  This base is then modified according to the next 2
  66:				; vectors.  Each 1 bit in the increment vector specifies a bit to be
  67:				; cycled in the form of a binary counter.  For instance, if the byte
  68:				; corresponding to the accumulator is set to 0ffh in the increment
  69:				; vector, the test will be repeated for all 256 values of the
  70:				; accumulator.  Note that 1 bits don't have to be contiguous.  The
  71:				; number of test cases 'caused' by the increment vector is equal to
  72:				; 2^(number of 1 bits).  The shift vector is similar, but specifies a
  73:				; set of bits in the test case that are to be successively inverted.
  74:				; Thus the shift vector 'causes' a number of test cases equal to the
  75:				; number of 1 bits in it.
  76:				
  77:				; The total number of test cases is the product of those caused by the
  78:				; counter and shift vectors and can easily become unweildy.  Each
  79:				; individual test case can take a few milliseconds to execute, due to
  80:				; the overhead of test setup and crc calculation, so test design is a
  81:				; compromise between coverage and execution time.
  82:				
  83:				; This program is designed to detect differences between
  84:				; implementations and is not ideal for diagnosing the causes of any
  85:				; discrepancies.  However, provided a reference implementation (or
  86:				; real system) is available, a failing test case can be isolated by
  87:				; hand using a binary search of the test space.
  88:				
  89:				
  90:   10+10	0113  210000  	start:	ld	hl,0
  91:   20+6	0116  F9      		ld	sp,hl
  92:   26+10	0117  11DA16  		ld	de,msg1
  93:   36+7	011A  0E09    		ld	c,9
  94:   43+17	011C  CDBD16  		call	bdos
  95:				
  96:   60+10	011F  213A01  		ld	hl,tests	; first test case
  97:   70+7	0122  7E      	loop:	ld	a,(hl)		; end of list ?
  98:   77+6	0123  23      		inc	hl
  99:   83+7	0124  B6      		or	(hl)
 100:   90+10	0125  CA2F01  		jp	z,done
 101:  100+6	0128  2B      		dec	hl
 102:  106+17	0129  CDD113  		call	stt
 103:  123+10	012C  C32201  		jp	loop
 104:					
 105:  133+10	012F  11F916  	done:	ld	de,msg2
 106:  143+7	0132  0E09    		ld	c,9
 107:  150+17	0134  CDBD16  		call	bdos
 108:  167+10	0137  C30000  		jp	0		; warm boot
 109:				
 110:     -	013A          	tests:
 111:     -	013A  C201    		dw	adc16
 112:     -	013C  0702    		dw	add16
 113:     -	013E  4C02    		dw	add16x
 114:     -	0140  9102    		dw	add16y
 115:     -	0142  D602    		dw	alu8i
 116:     -	0144  1B03    		dw	alu8r
 117:     -	0146  6003    		dw	alu8rx
 118:     -	0148  A503    		dw	alu8x
 119:     -	014A  EA03    		dw	bitx
 120:     -	014C  2F04    		dw	bitz80
 121:     -	014E  7404    		dw	cpd1
 122:     -	0150  B904    		dw	cpi1
 123:     -	0152  FE04    		dw	daaop	; can't use opcode as label
 124:     -	0154  4305    		dw	inca
 125:     -	0156  8805    		dw	incb
 126:     -	0158  CD05    		dw	incbc
 127:     -	015A  1206    		dw	incc
 128:     -	015C  5706    		dw	incd
 129:     -	015E  9C06    		dw	incde
 130:     -	0160  E106    		dw	ince
 131:     -	0162  2607    		dw	inch
 132:     -	0164  6B07    		dw	inchl
 133:     -	0166  B007    		dw	incix
 134:     -	0168  F507    		dw	inciy
 135:     -	016A  3A08    		dw	incl
 136:     -	016C  7F08    		dw	incm
 137:     -	016E  C408    		dw	incsp
 138:     -	0170  0909    		dw	incx
 139:     -	0172  4E09    		dw	incxh
 140:     -	0174  9309    		dw	incxl
 141:     -	0176  D809    		dw	incyh
 142:     -	0178  1D0A    		dw	incyl
 143:     -	017A  620A    		dw	ld161
 144:     -	017C  A70A    		dw	ld162
 145:     -	017E  EC0A    		dw	ld163
 146:     -	0180  310B    		dw	ld164
 147:     -	0182  760B    		dw	ld165
 148:     -	0184  BB0B    		dw	ld166
 149:     -	0186  000C    		dw	ld167
 150:     -	0188  450C    		dw	ld168
 151:     -	018A  8A0C    		dw	ld16im
 152:     -	018C  CF0C    		dw	ld16ix
 153:     -	018E  140D    		dw	ld8bd
 154:     -	0190  590D    		dw	ld8im
 155:     -	0192  9E0D    		dw	ld8imx
 156:     -	0194  E30D    		dw	ld8ix1
 157:     -	0196  280E    		dw	ld8ix2
 158:     -	0198  6D0E    		dw	ld8ix3
 159:     -	019A  B20E    		dw	ld8ixy
 160:     -	019C  F70E    		dw	ld8rr
 161:     -	019E  3C0F    		dw	ld8rrx
 162:     -	01A0  810F    		dw	lda
 163:     -	01A2  C60F    		dw	ldd1
 164:     -	01A4  0B10    		dw	ldd2
 165:     -	01A6  5010    		dw	ldi1
 166:     -	01A8  9510    		dw	ldi2
 167:     -	01AA  DA10    		dw	negop	; jgh: can't use opcode as label
 168:     -	01AC  1F11    		dw	rldop	; jgh: can't use opcode as label
 169:     -	01AE  6411    		dw	rot8080
 170:     -	01B0  A911    		dw	rotxy
 171:     -	01B2  EE11    		dw	rotz80
 172:     -	01B4  3312    		dw	srz80
 173:     -	01B6  7812    		dw	srzx
 174:     -	01B8  BD12    		dw	st8ix1
 175:     -	01BA  0213    		dw	st8ix2
 176:     -	01BC  4713    		dw	st8ix3
 177:     -	01BE  8C13    		dw	stabd
 178:     -	01C0  0000    		dw	0
 179:				
 180:				; jgh: macro syntax changed for ZMAC and MAXAM
 181:				;	can't use opcodes as labels
 182:				;	ZMAC allows &nn as hex, so & removed from local labels
 183:				;
 184:				tstr	macro	insn1,insn2,insn3,insn4,memop,riy,rix,rhl,rde,rbc,flags,acc,rsp,?lab
 185:				?lab:	db	insn1,insn2,insn3,insn4
 186:					dw	memop,riy,rix,rhl,rde,rbc
 187:					db	flags
 188:					db	acc
 189:					dw	rsp
 190:					if	$-?lab ne 20
 191:					error	'missing parameter'
 192:					endif
 193:					endm
 194:				
 195:				tmsg	macro	msg,?lab
 196:				?lab:	db	'msg'
 197:					if	$ ge ?lab+31
 198:					error	'message too long'
 199:					else
 200:				;	ds	?lab+30-$,'.'	; jgh: ZMAC/MAXAM don't have char parameter
 201:					endif
 202:					db	'$'
 203:					endm
 204:				
 205:				; jgh: ZMAC/MAXAM don't recognise <n,m> syntax for macros, so full parameters given
 206:				; jgh: each tmsg has full string, as ZMAC/MAXAM don't have ds n,c pseudo-op
 207:				
 208:				; <adc,sbc> hl,<bc,de,hl,sp> (38,912 cycles)
 209:     -	01C2  C7      	adc16:	db	0c7h		; flag mask
 210:     -	01C3  ED420000		tstr	0edh,042h,0,0,0832ch,04f88h,0f22bh,0b339h,07e1fh,01563h,0d3h,089h,0465eh
	              2C83884F
	              2BF239B3
	              1F7E6315
	              D3895E46
 211:     -	01D7  00380000		tstr	0,038h,0,0,0,0,0,0f821h,0,0,0,0,0	; (1024 cycles)
	              00000000
	              000021F8
	              00000000
	              00000000
 212:     -	01EB  00000000		tstr	0,0,0,0,0,0,0,-1,-1,-1,0d7h,0,-1	; (38 cycles)
	              00000000
	              0000FFFF
	              FFFFFFFF
	              D700FFFF
 213:     -	01FF  F8B4EAA9		db	0f8h,0b4h,0eah,0a9h			; expected crc
 214:     -	0203  6D736724		tmsg	'<adc,sbc> hl,<bc,de,hl,sp>....'
 215:				
 216:				; add hl,<bc,de,hl,sp> (19,456 cycles)
 217:     -	0207  C7      	add16:	db	0c7h		; flag mask
 218:     -	0208  09000000		tstr	9,0,0,0,0c4a5h,0c4c7h,0d226h,0a050h,058eah,08566h,0c6h,0deh,09bc9h
	              A5C4C7C4
	              26D250A0
	              EA586685
	              C6DEC99B
 219:     -	021C  30000000		tstr	030h,0,0,0,0,0,0,0f821h,0,0,0,0,0	; (512 cycles)
	              00000000
	              000021F8
	              00000000
	              00000000
 220:     -	0230  00000000		tstr	0,0,0,0,0,0,0,-1,-1,-1,0d7h,0,-1	; (38 cycles)
	              00000000
	              0000FFFF
	              FFFFFFFF
	              D700FFFF
 221:     -	0244  89FDB635		db	089h,0fdh,0b6h,035h			; expected crc
 222:     -	0248  6D736724		tmsg	'add hl,<bc,de,hl,sp>..........'
 223:				
 224:				; add ix,<bc,de,ix,sp> (19,456 cycles)
 225:     -	024C  C7      	add16x:	db	0c7h		; flag mask
 226:     -	024D  DD090000		tstr	0ddh,9,0,0,0ddach,0c294h,0635bh,033d3h,06a76h,0fa20h,094h,068h,036f5h
	              ACDD94C2
	              5B63D333
	              766A20FA
	              9468F536
 227:     -	0261  00300000		tstr	0,030h,0,0,0,0,0f821h,0,0,0,0,0,0	; (512 cycles)
	              00000000
	              21F80000
	              00000000
	              00000000
 228:     -	0275  00000000		tstr	0,0,0,0,0,0,-1,0,-1,-1,0d7h,0,-1	; (38 cycles)
	              00000000
	              FFFF0000
	              FFFFFFFF
	              D700FFFF
 229:     -	0289  C133790B		db	0c1h,033h,079h,00bh			; expected crc
 230:     -	028D  6D736724		tmsg	'add ix,<bc,de,ix,sp>..........'
 231:				
 232:				; add iy,<bc,de,iy,sp> (19,456 cycles)
 233:     -	0291  C7      	add16y:	db	0c7h		; flag mask
 234:     -	0292  FD090000		tstr	0fdh,9,0,0,0c7c2h,0f407h,051c1h,03e96h,00bf4h,0510fh,092h,01eh,071eah
	              C2C707F4
	              C151963E
	              F40B0F51
	              921EEA71
 235:     -	02A6  00300000		tstr	0,030h,0,0,0,0f821h,0,0,0,0,0,0,0	; (512 cycles)
	              000021F8
	              00000000
	              00000000
	              00000000
 236:     -	02BA  00000000		tstr	0,0,0,0,0,-1,0,0,-1,-1,0d7h,0,-1		; (38 cycles)
	              0000FFFF
	              00000000
	              FFFFFFFF
	              D700FFFF
 237:     -	02CE  E8817B9E		db	0e8h,081h,07bh,09eh			; expected crc
 238:     -	02D2  6D736724		tmsg	'add iy,<bc,de,iy,sp>..........'
 239:				
 240:				; aluop a,nn (28,672 cycles)
 241:     -	02D6  D7      	alu8i:	db	0d7h		; flag mask
 242:     -	02D7  C6000000		tstr	0c6h,0,0,0,009140h,07e3ch,07a67h,0df6dh,05b61h,00b29h,010h,066h,085b2h
	              40913C7E
	              677A6DDF
	              615B290B
	              1066B285
 243:     -	02EB  38000000		tstr	038h,0,0,0,0,0,0,0,0,0,0,-1,0		; (2048 cycles)
	              00000000
	              00000000
	              00000000
	              00FF0000
 244:     -	02FF  00FF0000		tstr	0,-1,0,0,0,0,0,0,0,0,0d7h,0,0		; (14 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 245:     -	0313  48799360		db	048h,079h,093h,060h			; expected crc
 246:     -	0317  6D736724		tmsg	'aluop a,nn....................'
 247:				
 248:				; aluop a,<b,c,d,e,h,l,(hl),a> (753,664 cycles)
 249:     -	031B  D7      	alu8r:	db	0d7h		; flag mask
 250:     -	031C  80000000		tstr	080h,0,0,0,0c53eh,0573ah,04c4dh,msbt,0e309h,0a666h,0d0h,03bh,0adbbh
	              3EC53A57
	              4D4C0301
	              09E366A6
	              D03BBBAD
 251:     -	0330  3F000000		tstr	03fh,0,0,0,0,0,0,0,0,0,0,-1,0		; (16,384 cycles)
	              00000000
	              00000000
	              00000000
	              00FF0000
 252:     -	0344  00000000		tstr	0,0,0,0,0ffh,0,0,0,-1,-1,0d7h,0,0	; (46 cycles)
	              FF000000
	              00000000
	              FFFFFFFF
	              D7000000
 253:     -	0358  FE43B016		db	0feh,043h,0b0h,016h			; expected crc
 254:     -	035C  6D736724		tmsg	'aluop a,<b,c,d,e,h,l,(hl),a>..'
 255:				
 256:				; aluop a,<ixh,ixl,iyh,iyl> (376,832 cycles)
 257:     -	0360  D7      	alu8rx:	db	0d7h		; flag mask
 258:     -	0361  DD840000		tstr	0ddh,084h,0,0,0d6f7h,0c76eh,0accfh,02847h,022ddh,0c035h,0c5h,038h,0234bh
	              F7D66EC7
	              CFAC4728
	              DD2235C0
	              C5384B23
 259:     -	0375  20390000		tstr	020h,039h,0,0,0,0,0,0,0,0,0,-1,0	; (8,192 cycles)
	              00000000
	              00000000
	              00000000
	              00FF0000
 260:     -	0389  00000000		tstr	0,0,0,0,0ffh,0,0,0,-1,-1,0d7h,0,0	; (46 cycles)
	              FF000000
	              00000000
	              FFFFFFFF
	              D7000000
 261:     -	039D  A4026D5A		db	0a4h,002h,06dh,05ah			; expected crc
 262:     -	03A1  6D736724		tmsg	'aluop a,<ixh,ixl,iyh,iyl>.....'
 263:				
 264:				; aluop a,(<ix,iy>+1) (229,376 cycles)
 265:     -	03A5  D7      	alu8x:	db	0d7h		; flag mask
 266:     -	03A6  DD860100		tstr	0ddh,086h,1,0,090b7h,msbt-1,msbt-1,032fdh,0406eh,0c1dch,045h,06eh,0e5fah
	              B7900201
	              0201FD32
	              6E40DCC1
	              456EFAE5
 267:     -	03BA  20380000		tstr	020h,038h,0,0,0,1,1,0,0,0,0,-1,0	; (16,384 cycles)
	              00000100
	              01000000
	              00000000
	              00FF0000
 268:     -	03CE  00000000		tstr	0,0,0,0,0ffh,0,0,0,0,0,0d7h,0,0		; (14 cycles)
	              FF000000
	              00000000
	              00000000
	              D7000000
 269:     -	03E2  E849676E		db	0e8h,049h,067h,06eh			; expected crc
 270:     -	03E6  6D736724		tmsg	'aluop a,(<ix,iy>+1)...........'
 271:				
 272:				; bit n,(<ix,iy>+1) (2048 cycles)
 273:     -	03EA  53      	bitx:	db	053h		; flag mask
 274:     -	03EB  DDCB0146		tstr	0ddh,0cbh,1,046h,02075h,msbt-1,msbt-1,03cfch,0a79ah,03d74h,051h,027h,0ca14h
	              75200201
	              0201FC3C
	              9AA7743D
	              512714CA
 275:     -	03FF  20000038		tstr	020h,0,0,038h,0,0,0,0,0,0,053h,0,0	; (256 cycles)
	              00000000
	              00000000
	              00000000
	              53000000
 276:     -	0413  00000000		tstr	0,0,0,0,0ffh,0,0,0,0,0,0,0,0		; (8 cycles)
	              FF000000
	              00000000
	              00000000
	              00000000
 277:     -	0427  A8EE0867		db	0a8h,0eeh,008h,067h			; expected crc
 278:     -	042B  6D736724		tmsg	'bit n,(<ix,iy>+1).............'
 279:				
 280:				; bit n,<b,c,d,e,h,l,(hl),a> (49,152 cycles)
 281:     -	042F  53      	bitz80:	db	053h		; flag mask
 282:     -	0430  CB400000		tstr	0cbh,040h,0,0,03ef1h,09dfch,07acch,msbt,0be61h,07a86h,050h,024h,01998h
	              F13EFC9D
	              CC7A0301
	              61BE867A
	              50249819
 283:     -	0444  003F0000		tstr	0,03fh,0,0,0,0,0,0,0,0,053h,0,0		; (1024 cycles)
	              00000000
	              00000000
	              00000000
	              53000000
 284:     -	0458  00000000		tstr	0,0,0,0,0ffh,0,0,0,-1,-1,0,-1,0		; (48 cycles)
	              FF000000
	              00000000
	              FFFFFFFF
	              00FF0000
 285:     -	046C  7B55E6C8		db	07bh,055h,0e6h,0c8h			; expected crc
 286:     -	0470  6D736724		tmsg	'bit n,<b,c,d,e,h,l,(hl),a>....'
 287:				
 288:				; cpd<r> (1) (6144 cycles)
 289:     -	0474  D7      	cpd1:	db	0d7h		; flag mask
 290:     -	0475  EDA90000		tstr	0edh,0a9h,0,0,0c7b6h,072b4h,018f6h,msbt+17,08dbdh,1,0c0h,030h,094a3h
	              B6C7B472
	              F6181401
	              BD8D0100
	              C030A394
 291:     -	0489  00100000		tstr	0,010h,0,0,0,0,0,0,0,010,0,-1,0		; (1024 cycles)
	              00000000
	              00000000
	              00000A00
	              00FF0000
 292:     -	049D  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 293:     -	04B1  A87E6CFA		db	0a8h,07eh,06ch,0fah			; expected crc
 294:     -	04B5  6D736724		tmsg	'cpd<r>........................'
 295:				
 296:				; cpi<r> (1) (6144 cycles)
 297:     -	04B9  D7      	cpi1:	db	0d7h		; flag mask
 298:     -	04BA  EDA10000		tstr	0edh,0a1h,0,0,04d48h,0af4ah,0906bh,msbt,04e71h,1,093h,06ah,0907ch
	              484D4AAF
	              6B900301
	              714E0100
	              936A7C90
 299:     -	04CE  00100000		tstr	0,010h,0,0,0,0,0,0,0,010,0,-1,0		; (1024 cycles)
	              00000000
	              00000000
	              00000A00
	              00FF0000
 300:     -	04E2  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 301:     -	04F6  06DEB356		db	006h,0deh,0b3h,056h			; expected crc
 302:     -	04FA  6D736724		tmsg	'cpi<r>........................'
 303:				
 304:				; <daa,cpl,scf,ccf>
 305:     -	04FE  D7      	daaop:	db	0d7h		; flag mask
 306:     -	04FF  27000000		tstr	027h,0,0,0,02141h,009fah,01d60h,0a559h,08d5bh,09079h,004h,08eh,0299dh
	              4121FA09
	              601D59A5
	              5B8D7990
	              048E9D29
 307:     -	0513  18000000		tstr	018h,0,0,0,0,0,0,0,0,0,0d7h,-1,0	; (65,536 cycles)
	              00000000
	              00000000
	              00000000
	              D7FF0000
 308:     -	0527  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,0,0		; (1 cycle)
	              00000000
	              00000000
	              00000000
	              00000000
 309:     -	053B  9B4BA675		db	09bh,04bh,0a6h,075h			; expected crc
 310:     -	053F  6D736724		tmsg	'<daa,cpl,scf,ccf>.............'
 311:				
 312:				; <inc,dec> a (3072 cycles)
 313:     -	0543  D7      	inca:	db	0d7h		; flag mask
 314:     -	0544  3C000000		tstr	03ch,0,0,0,04adfh,0d5d8h,0e598h,08a2bh,0a7b0h,0431bh,044h,05ah,0d030h
	              DF4AD8D5
	              98E52B8A
	              B0A71B43
	              445A30D0
 315:     -	0558  01000000		tstr	001h,0,0,0,0,0,0,0,0,0,0,-1,0		; (512 cycles)
	              00000000
	              00000000
	              00000000
	              00FF0000
 316:     -	056C  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 317:     -	0580  D18815A4		db	0d1h,088h,015h,0a4h			; expected crc
 318:     -	0584  6D736724		tmsg	'<inc,dec> a...................'
 319:				
 320:				; <inc,dec> b (3072 cycles)
 321:     -	0588  D7      	incb:	db	0d7h		; flag mask
 322:     -	0589  04000000		tstr	004h,0,0,0,0d623h,0432dh,07a61h,08180h,05a86h,01e85h,086h,058h,09bbbh
	              23D62D43
	              617A8081
	              865A851E
	              8658BB9B
 323:     -	059D  01000000		tstr	001h,0,0,0,0,0,0,0,0,0ff00h,0,0,0	; (512 cycles)
	              00000000
	              00000000
	              000000FF
	              00000000
 324:     -	05B1  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 325:     -	05C5  5F682264		db	05fh,068h,022h,064h			; expected crc
 326:     -	05C9  6D736724		tmsg	'<inc,dec> b...................'
 327:				
 328:				; <inc,dec> bc (1536 cycles)
 329:     -	05CD  D7      	incbc:	db	0d7h		; flag mask
 330:     -	05CE  03000000		tstr	003h,0,0,0,0cd97h,044abh,08dc9h,0e3e3h,011cch,0e8a4h,002h,049h,02a4dh
	              97CDAB44
	              C98DE3E3
	              CC11A4E8
	              02494D2A
 331:     -	05E2  08000000		tstr	008h,0,0,0,0,0,0,0,0,0f821h,0,0,0	; (256 cycles)
	              00000000
	              00000000
	              000021F8
	              00000000
 332:     -	05F6  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 333:     -	060A  D2AE3BEC		db	0d2h,0aeh,03bh,0ech			; expected crc
 334:     -	060E  6D736724		tmsg	'<inc,dec> bc..................'
 335:				
 336:				; <inc,dec> c (3072 cycles)
 337:     -	0612  D7      	incc:	db	0d7h		; flag mask
 338:     -	0613  0C000000		tstr	00ch,0,0,0,0d789h,00935h,0055bh,09f85h,08b27h,0d208h,095h,005h,00660h
	              89D73509
	              5B05859F
	              278B08D2
	              95056006
 339:     -	0627  01000000		tstr	001h,0,0,0,0,0,0,0,0,0ffh,0,0,0		; (512 cycles)
	              00000000
	              00000000
	              0000FF00
	              00000000
 340:     -	063B  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 341:     -	064F  C284554C		db	0c2h,084h,055h,04ch			; expected crc
 342:     -	0653  6D736724		tmsg	'<inc,dec> c...................'
 343:				
 344:				; <inc,dec> d (3072 cycles)
 345:     -	0657  D7      	incd:	db	0d7h		; flag mask
 346:     -	0658  14000000		tstr	014h,0,0,0,0a0eah,05fbah,065fbh,0981ch,038cch,0debch,043h,05ch,003bdh
	              EAA0BA5F
	              FB651C98
	              CC38BCDE
	              435CBD03
 347:     -	066C  01000000		tstr	001h,0,0,0,0,0,0,0,0ff00h,0,0,0,0	; (512 cycles)
	              00000000
	              00000000
	              00FF0000
	              00000000
 348:     -	0680  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 349:     -	0694  4523DE10		db	045h,023h,0deh,010h			; expected crc
 350:     -	0698  6D736724		tmsg	'<inc,dec> d...................'
 351:				
 352:				; <inc,dec> de (1536 cycles)
 353:     -	069C  D7      	incde:	db	0d7h		; flag mask
 354:     -	069D  13000000		tstr	013h,0,0,0,0342eh,0131dh,028c9h,00acah,09967h,03a2eh,092h,0f6h,09d54h
	              2E341D13
	              C928CA0A
	              67992E3A
	              92F6549D
 355:     -	06B1  08000000		tstr	008h,0,0,0,0,0,0,0,0f821h,0,0,0,0	; (256 cycles)
	              00000000
	              00000000
	              21F80000
	              00000000
 356:     -	06C5  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 357:     -	06D9  AEC6D42C		db	0aeh,0c6h,0d4h,02ch			; expected crc
 358:     -	06DD  6D736724		tmsg	'<inc,dec> de..................'
 359:				
 360:				; <inc,dec> e (3072 cycles)
 361:     -	06E1  D7      	ince:	db	0d7h		; flag mask
 362:     -	06E2  1C000000		tstr	01ch,0,0,0,0602fh,04c0dh,02402h,0e2f5h,0a0f4h,0a10ah,013h,032h,05925h
	              2F600D4C
	              0224F5E2
	              F4A00AA1
	              13322559
 363:     -	06F6  01000000		tstr	001h,0,0,0,0,0,0,0,0ffh,0,0,0,0		; (512 cycles)
	              00000000
	              00000000
	              FF000000
	              00000000
 364:     -	070A  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 365:     -	071E  E175AFCC		db	0e1h,075h,0afh,0cch			; expected crc
 366:     -	0722  6D736724		tmsg	'<inc,dec> e...................'
 367:				
 368:				; <inc,dec> h (3072 cycles)
 369:     -	0726  D7      	inch:	db	0d7h		; flag mask
 370:     -	0727  24000000		tstr	024h,0,0,0,01506h,0f2ebh,0e8ddh,0262bh,011a6h,0bc1ah,017h,006h,02818h
	              0615EBF2
	              DDE82B26
	              A6111ABC
	              17061828
 371:     -	073B  01000000		tstr	001h,0,0,0,0,0,0,0ff00h,0,0,0,0,0	; (512 cycles)
	              00000000
	              000000FF
	              00000000
	              00000000
 372:     -	074F  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 373:     -	0763  1CED847D		db	01ch,0edh,084h,07dh			; expected crc
 374:     -	0767  6D736724		tmsg	'<inc,dec> h...................'
 375:				
 376:				; <inc,dec> hl (1536 cycles)
 377:     -	076B  D7      	inchl:	db	0d7h		; flag mask
 378:     -	076C  23000000		tstr	023h,0,0,0,0c3f4h,007a5h,01b6dh,04f04h,0e2c2h,0822ah,057h,0e0h,0c3e1h
	              F4C3A507
	              6D1B044F
	              C2E22A82
	              57E0E1C3
 379:     -	0780  08000000		tstr	008h,0,0,0,0,0,0,0f821h,0,0,0,0,0	; (256 cycles)
	              00000000
	              000021F8
	              00000000
	              00000000
 380:     -	0794  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 381:     -	07A8  FC0D6D4A		db	0fch,00dh,06dh,04ah			; expected crc
 382:     -	07AC  6D736724		tmsg	'<inc,dec> hl..................'
 383:				
 384:				; <inc,dec> ix (1536 cycles)
 385:     -	07B0  D7      	incix:	db	0d7h		; flag mask
 386:     -	07B1  DD230000		tstr	0ddh,023h,0,0,0bc3ch,00d9bh,0e081h,0adfdh,09a7fh,096e5h,013h,085h,00be2h
	              3CBC9B0D
	              81E0FDAD
	              7F9AE596
	              1385E20B
 387:     -	07C5  00080000		tstr	0,8,0,0,0,0,0f821h,0,0,0,0,0,0		; (256 cycles)
	              00000000
	              21F80000
	              00000000
	              00000000
 388:     -	07D9  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 389:     -	07ED  A54DBE31		db	0a5h,04dh,0beh,031h			; expected crc
 390:     -	07F1  6D736724		tmsg	'<inc,dec> ix..................'
 391:				
 392:				; <inc,dec> iy (1536 cycles)
 393:     -	07F5  D7      	inciy:	db	0d7h		; flag mask
 394:     -	07F6  FD230000		tstr	0fdh,023h,0,0,09402h,0637ah,03182h,0c65ah,0b2e9h,0abb4h,016h,0f2h,06d05h
	              02947A63
	              82315AC6
	              E9B2B4AB
	              16F2056D
 395:     -	080A  00080000		tstr	0,8,0,0,0,0f821h,0,0,0,0,0,0,0		; (256 cycles)
	              000021F8
	              00000000
	              00000000
	              00000000
 396:     -	081E  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 397:     -	0832  505D51A3		db	050h,05dh,051h,0a3h			; expected crc
 398:     -	0836  6D736724		tmsg	'<inc,dec> iy..................'
 399:				
 400:				; <inc,dec> l (3072 cycles)
 401:     -	083A  D7      	incl:	db	0d7h		; flag mask
 402:     -	083B  2C000000		tstr	02ch,0,0,0,08031h,0a520h,04356h,0b409h,0f4c1h,0dfa2h,0d1h,03ch,03ea2h
	              318020A5
	              564309B4
	              C1F4A2DF
	              D13CA23E
 403:     -	084F  01000000		tstr	001h,0,0,0,0,0,0,0ffh,0,0,0,0,0		; (512 cycles)
	              00000000
	              0000FF00
	              00000000
	              00000000
 404:     -	0863  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 405:     -	0877  56CD06F3		db	056h,0cdh,006h,0f3h			; expected crc
 406:     -	087B  6D736724		tmsg	'<inc,dec> l...................'
 407:				
 408:				; <inc,dec> (hl) (3072 cycles)
 409:     -	087F  D7      	incm:	db	0d7h		; flag mask
 410:     -	0880  34000000		tstr	034h,0,0,0,0b856h,00c7ch,0e53eh,msbt,0877eh,0da58h,015h,05ch,01f37h
	              56B87C0C
	              3EE50301
	              7E8758DA
	              155C371F
 411:     -	0894  01000000		tstr	001h,0,0,0,0ffh,0,0,0,0,0,0,0,0		; (512 cycles)
	              FF000000
	              00000000
	              00000000
	              00000000
 412:     -	08A8  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 413:     -	08BC  B83ADCEF		db	0b8h,03ah,0dch,0efh			; expected crc
 414:     -	08C0  6D736724		tmsg	'<inc,dec> (hl)................'
 415:				
 416:				; <inc,dec> sp (1536 cycles)
 417:     -	08C4  D7      	incsp:	db	0d7h		; flag mask
 418:     -	08C5  33000000		tstr	033h,0,0,0,0346fh,0d482h,0d169h,0deb6h,0a494h,0f476h,053h,002h,0855bh
	              6F3482D4
	              69D1B6DE
	              94A476F4
	              53025B85
 419:     -	08D9  08000000		tstr	008h,0,0,0,0,0,0,0,0,0,0,0,0f821h	; (256 cycles)
	              00000000
	              00000000
	              00000000
	              000021F8
 420:     -	08ED  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 421:     -	0901  5DACD527		db	05dh,0ach,0d5h,027h			; expected crc
 422:     -	0905  6D736724		tmsg	'<inc,dec> sp..................'
 423:				
 424:				; <inc,dec> (<ix,iy>+1) (6144 cycles)
 425:     -	0909  D7      	incx:	db	0d7h		; flag mask
 426:     -	090A  DD340100		tstr	0ddh,034h,1,0,0fa6eh,msbt-1,msbt-1,02c28h,08894h,05057h,016h,033h,0286fh
	              6EFA0201
	              0201282C
	              94885750
	              16336F28
 427:     -	091E  20010000		tstr	020h,1,0,0,0ffh,0,0,0,0,0,0,0,0		; (1024 cycles)
	              FF000000
	              00000000
	              00000000
	              00000000
 428:     -	0932  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 429:     -	0946  20581470		db	020h,058h,014h,070h			; expected crc
 430:     -	094A  6D736724		tmsg	'<inc,dec> (<ix,iy>+1).........'
 431:				
 432:				; <inc,dec> ixh (3072 cycles)
 433:     -	094E  D7      	incxh:	db	0d7h		; flag mask
 434:     -	094F  DD240000		tstr	0ddh,024h,0,0,0b838h,0316ch,0c6d4h,03e01h,08358h,015b4h,081h,0deh,04259h
	              38B86C31
	              D4C6013E
	              5883B415
	              81DE5942
 435:     -	0963  00010000		tstr	0,1,0,0,0,0ff00h,0,0,0,0,0,0,0		; (512 cycles)
	              000000FF
	              00000000
	              00000000
	              00000000
 436:     -	0977  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 437:     -	098B  6F463662		db	06fh,046h,036h,062h			; expected crc
 438:     -	098F  6D736724		tmsg	'<inc,dec> ixh.................'
 439:				
 440:				; <inc,dec> ixl (3072 cycles)
 441:     -	0993  D7      	incxl:	db	0d7h		; flag mask
 442:     -	0994  DD2C0000		tstr	0ddh,02ch,0,0,04d14h,07460h,076d4h,006e7h,032a2h,0213ch,0d6h,0d7h,099a5h
	              144D6074
	              D476E706
	              A2323C21
	              D6D7A599
 443:     -	09A8  00010000		tstr	0,1,0,0,0,0ffh,0,0,0,0,0,0,0		; (512 cycles)
	              0000FF00
	              00000000
	              00000000
	              00000000
 444:     -	09BC  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 445:     -	09D0  027BEF2C		db	002h,07bh,0efh,02ch			; expected crc
 446:     -	09D4  6D736724		tmsg	'<inc,dec> ixl.................'
 447:				
 448:				; <inc,dec> iyh (3072 cycles)
 449:     -	09D8  D7      	incyh:	db	0d7h		; flag mask
 450:     -	09D9  DD240000		tstr	0ddh,024h,0,0,02836h,09f6fh,09116h,061b9h,082cbh,0e219h,092h,073h,0a98ch
	              36286F9F
	              1691B961
	              CB8219E2
	              92738CA9
 451:     -	09ED  00010000		tstr	0,1,0,0,0ff00h,0,0,0,0,0,0,0,0		; (512 cycles)
	              00FF0000
	              00000000
	              00000000
	              00000000
 452:     -	0A01  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 453:     -	0A15  2D966CF3		db	02dh,096h,06ch,0f3h			; expected crc
 454:     -	0A19  6D736724		tmsg	'<inc,dec> iyh.................'
 455:				
 456:				; <inc,dec> iyl (3072 cycles)
 457:     -	0A1D  D7      	incyl:	db	0d7h		; flag mask
 458:     -	0A1E  DD2C0000		tstr	0ddh,02ch,0,0,0d7c6h,062d5h,0a09eh,07039h,03e7eh,09f12h,090h,0d9h,0220fh
	              C6D7D562
	              9EA03970
	              7E3E129F
	              90D90F22
 459:     -	0A32  00010000		tstr	0,1,0,0,0ffh,0,0,0,0,0,0,0,0		; (512 cycles)
	              FF000000
	              00000000
	              00000000
	              00000000
 460:     -	0A46  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 461:     -	0A5A  FBCBBA95		db	0fbh,0cbh,0bah,095h			; expected crc
 462:     -	0A5E  6D736724		tmsg	'<inc,dec> iyl.................'
 463:				
 464:				; ld <bc,de>,(nnnn) (32 cycles)
 465:     -	0A62  D7      	ld161:	db	0d7h		; flag mask
 466:     -	0A63  ED4B0301		tstr	0edh,04bh,msbtlo,msbthi,0f9a8h,0f559h,093a4h,0f5edh,06f96h,0d968h,086h,0e6h,04bd8h
	              A8F959F5
	              A493EDF5
	              966F68D9
	              86E6D84B
 467:     -	0A77  00100000		tstr	0,010h,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 468:     -	0A8B  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0,0,0		; (16 cycles)
	              FFFF0000
	              00000000
	              00000000
	              00000000
 469:     -	0A9F  4D45A9AC		db	04dh,045h,0a9h,0ach			; expected crc
 470:     -	0AA3  6D736724		tmsg	'ld <bc,de>,(nnnn).............'
 471:				
 472:				; ld hl,(nnnn) (16 cycles)
 473:     -	0AA7  D7      	ld162:	db	0d7h		; flag mask
 474:     -	0AA8  2A030100		tstr	02ah,msbtlo,msbthi,0,09863h,07830h,02077h,0b1feh,0b9fah,0abb8h,004h,006h,06015h
	              63983078
	              7720FEB1
	              FAB9B8AB
	              04061560
 475:     -	0ABC  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,0,0		; (1 cycle)
	              00000000
	              00000000
	              00000000
	              00000000
 476:     -	0AD0  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0,0,0		; (16 cycles)
	              FFFF0000
	              00000000
	              00000000
	              00000000
 477:     -	0AE4  5F972487		db	05fh,097h,024h,087h			; expected crc
 478:     -	0AE8  6D736724		tmsg	'ld hl,(nnnn)..................'
 479:					
 480:				; ld sp,(nnnn) (16 cycles)
 481:     -	0AEC  D7      	ld163:	db	0d7h		; flag mask
 482:     -	0AED  ED7B0301		tstr	0edh,07bh,msbtlo,msbthi,08dfch,057d7h,02161h,0ca18h,0c185h,027dah,083h,01eh,0f460h
	              FC8DD757
	              612118CA
	              85C1DA27
	              831E60F4
 483:     -	0B01  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,0,0		; (1 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 484:     -	0B15  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0,0,0		; (16 cycles)
	              FFFF0000
	              00000000
	              00000000
	              00000000
 485:     -	0B29  7ACEA11B		db	07ah,0ceh,0a1h,01bh			; expected crc
 486:     -	0B2D  6D736724		tmsg	'ld sp,(nnnn)..................'
 487:				
 488:				; ld <ix,iy>,(nnnn) (32 cycles)
 489:     -	0B31  D7      	ld164:	db	0d7h		; flag mask
 490:     -	0B32  DD2A0301		tstr	0ddh,02ah,msbtlo,msbthi,0ded7h,0a6fah,0f780h,0244ch,087deh,0bcc2h,016h,063h,04c96h
	              D7DEFAA6
	              80F74C24
	              DE87C2BC
	              1663964C
 491:     -	0B46  20000000		tstr	020h,0,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 492:     -	0B5A  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0,0,0		; (16 cycles)
	              FFFF0000
	              00000000
	              00000000
	              00000000
 493:     -	0B6E  858BF16D		db	085h,08bh,0f1h,06dh			; expected crc
 494:     -	0B72  6D736724		tmsg	'ld <ix,iy>,(nnnn).............'
 495:					
 496:				; ld (nnnn),<bc,de> (64 cycles)
 497:     -	0B76  D7      	ld165:	db	0d7h		; flag mask
 498:     -	0B77  ED430301		tstr	0edh,043h,msbtlo,msbthi,01f98h,0844dh,0e8ach,0c9edh,0c95dh,08f61h,080h,03fh,0c7bfh
	              981F4D84
	              ACE8EDC9
	              5DC9618F
	              803FBFC7
 499:     -	0B8B  00100000		tstr	0,010h,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 500:     -	0B9F  00000000		tstr	0,0,0,0,0,0,0,0,-1,-1,0,0,0		; (32 cycles)
	              00000000
	              00000000
	              FFFFFFFF
	              00000000
 501:     -	0BB3  641E8715		db	064h,01eh,087h,015h			; expected crc
 502:     -	0BB7  6D736724		tmsg	'ld (nnnn),<bc,de>.............'
 503:				
 504:				; ld (nnnn),hl (16 cycles)
 505:     -	0BBB  D7      	ld166:	db	0d7h		; flag mask
 506:     -	0BBC  22030100		tstr	022h,msbtlo,msbthi,0,0d003h,07772h,07f53h,03f72h,064eah,0e180h,010h,02dh,035e9h
	              03D07277
	              537F723F
	              EA6480E1
	              102DE935
 507:     -	0BD0  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,0,0		; (1 cycle)
	              00000000
	              00000000
	              00000000
	              00000000
 508:     -	0BE4  00000000		tstr	0,0,0,0,0,0,0,-1,0,0,0,0,0		; (16 cycles)
	              00000000
	              0000FFFF
	              00000000
	              00000000
 509:     -	0BF8  A3608B47		db	0a3h,060h,08bh,047h			; expected crc
 510:     -	0BFC  6D736724		tmsg	'ld (nnnn),hl..................'
 511:				
 512:				; ld (nnnn),sp (16 cycles)
 513:     -	0C00  D7      	ld167:	db	0d7h		; flag mask
 514:     -	0C01  ED730301		tstr	0edh,073h,msbtlo,msbthi,0c0dch,0d1d6h,0ed5ah,0f356h,0afdah,06ca7h,044h,09fh,03f0ah
	              DCC0D6D1
	              5AED56F3
	              DAAFA76C
	              449F0A3F
 515:     -	0C15  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,0,0		; (1 cycle)
	              00000000
	              00000000
	              00000000
	              00000000
 516:     -	0C29  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,0,-1		; (16 cycles)
	              00000000
	              00000000
	              00000000
	              0000FFFF
 517:     -	0C3D  16585FD7		db	016h,058h,05fh,0d7h			; expected crc
 518:     -	0C41  6D736724		tmsg	'ld (nnnn),sp..................'
 519:				
 520:				; ld (nnnn),<ix,iy> (64 cycles)
 521:     -	0C45  D7      	ld168:	db	0d7h		; flag mask
 522:     -	0C46  DD220301		tstr	0ddh,022h,msbtlo,msbthi,06cc3h,00d91h,06900h,08ef8h,0e3d6h,0c3f7h,0c6h,0d9h,0c2dfh
	              C36C910D
	              0069F88E
	              D6E3F7C3
	              C6D9DFC2
 523:     -	0C5A  20000000		tstr	020h,0,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 524:     -	0C6E  00000000		tstr	0,0,0,0,0,-1,-1,0,0,0,0,0,0		; (32 cycles)
	              0000FFFF
	              FFFF0000
	              00000000
	              00000000
 525:     -	0C82  BA102A6B		db	0bah,010h,02ah,06bh			; expected crc
 526:     -	0C86  6D736724		tmsg	'ld (nnnn),<ix,iy>.............'
 527:				
 528:				; ld <bc,de,hl,sp>,nnnn (64 cycles)
 529:     -	0C8A  D7      	ld16im:	db	0d7h		; flag mask
 530:     -	0C8B  01000000		tstr	1,0,0,0,05c1ch,02d46h,08eb9h,06078h,074b1h,0b30eh,046h,0d1h,030cch
	              1C5C462D
	              B98E7860
	              B1740EB3
	              46D1CC30
 531:     -	0C9F  30000000		tstr	030h,0,0,0,0,0,0,0,0,0,0,0,0		; (4 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 532:     -	0CB3  00FFFF00		tstr	0,0ffh,0ffh,0,0,0,0,0,0,0,0,0,0		; (16 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 533:     -	0CC7  DE391969		db	0deh,039h,019h,069h			; expected crc
 534:     -	0CCB  6D736724		tmsg	'ld <bc,de,hl,sp>,nnnn.........'
 535:				
 536:				; ld <ix,iy>,nnnn (32 cycles)
 537:     -	0CCF  D7      	ld16ix:	db	0d7h		; flag mask
 538:     -	0CD0  DD210000		tstr	0ddh,021h,0,0,087e8h,02006h,0bd12h,0b69bh,07253h,0a1e5h,051h,013h,0f1bdh
	              E8870620
	              12BD9BB6
	              5372E5A1
	              5113BDF1
 539:     -	0CE4  20000000		tstr	020h,0,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 540:     -	0CF8  0000FFFF		tstr	0,0,0ffh,0ffh,0,0,0,0,0,0,0,0,0		; (16 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 541:     -	0D0C  227DD525		db	022h,07dh,0d5h,025h			; expected crc
 542:     -	0D10  6D736724		tmsg	'ld <ix,iy>,nnnn...............'
 543:				
 544:				; ld a,<(bc),(de)> (44 cycles)
 545:     -	0D14  D7      	ld8bd:	db	0d7h		; flag mask
 546:     -	0D15  0A000000		tstr	00ah,0,0,0,0b3a8h,01d2ah,07f8eh,042ach,msbt,msbt,0c6h,0b1h,0ef8eh
	              A8B32A1D
	              8E7FAC42
	              03010301
	              C6B18EEF
 547:     -	0D29  10000000		tstr	010h,0,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 548:     -	0D3D  00000000		tstr	0,0,0,0,0ffh,0,0,0,0,0,0d7h,-1,0	; (22 cycles)
	              FF000000
	              00000000
	              00000000
	              D7FF0000
 549:     -	0D51  B0818935		db	0b0h,081h,089h,035h			; expected crc
 550:     -	0D55  6D736724		tmsg	'ld a,<(bc),(de)>..............'
 551:				
 552:				; ld <b,c,d,e,h,l,(hl),a>,nn (64 cycles)
 553:     -	0D59  D7      	ld8im:	db	0d7h		; flag mask
 554:     -	0D5A  06000000		tstr	6,0,0,0,0c407h,0f49dh,0d13dh,00339h,0de89h,07455h,053h,0c0h,05509h
	              07C49DF4
	              3DD13903
	              89DE5574
	              53C00955
 555:     -	0D6E  38000000		tstr	038h,0,0,0,0,0,0,0,0,0,0,0,0		; (8 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 556:     -	0D82  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,-1,0		; (8 cycles)
	              00000000
	              00000000
	              00000000
	              00FF0000
 557:     -	0D96  F1DAB556		db	0f1h,0dah,0b5h,056h			; expected crc
 558:     -	0D9A  6D736724		tmsg	'ld <b,c,d,e,h,l,(hl),a>,nn....'
 559:				
 560:				; ld (<ix,iy>+1),nn (32 cycles)
 561:     -	0D9E  D7      	ld8imx:	db	0d7h		; flag mask
 562:     -	0D9F  DD360100		tstr	0ddh,036h,1,0,01b45h,msbt-1,msbt-1,0d5c1h,061c7h,0bdc4h,0c0h,085h,0cd16h
	              451B0201
	              0201C1D5
	              C761C4BD
	              C08516CD
 563:     -	0DB3  20000000		tstr	020h,0,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 564:     -	0DC7  000000FF		tstr	0,0,0,-1,0,0,0,0,0,0,0,-1,0		; (16 cycles)
	              00000000
	              00000000
	              00000000
	              00FF0000
 565:     -	0DDB  26DB477E		db	026h,0dbh,047h,07eh			; expected crc
 566:     -	0DDF  6D736724		tmsg	'ld (<ix,iy>+1),nn.............'
 567:				
 568:				; ld <b,c,d,e>,(<ix,iy>+1) (512 cycles)
 569:     -	0DE3  D7      	ld8ix1:	db	0d7h		; flag mask
 570:     -	0DE4  DD460100		tstr	0ddh,046h,1,0,0d016h,msbt-1,msbt-1,04260h,07f39h,00404h,097h,04ah,0d085h
	              16D00201
	              02016042
	              397F0404
	              974A85D0
 571:     -	0DF8  20180000		tstr	020h,018h,0,0,0,1,1,0,0,0,0,0,0		; (32 cycles)
	              00000100
	              01000000
	              00000000
	              00000000
 572:     -	0E0C  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0,0,0		; (16 cycles)
	              FFFF0000
	              00000000
	              00000000
	              00000000
 573:     -	0E20  CC1106A8		db	0cch,011h,006h,0a8h			; expected crc
 574:     -	0E24  6D736724		tmsg	'ld <b,c,d,e>,(<ix,iy>+1)......'
 575:				
 576:				; ld <h,l>,(<ix,iy>+1) (256 cycles)
 577:     -	0E28  D7      	ld8ix2:	db	0d7h		; flag mask
 578:     -	0E29  DD660100		tstr	0ddh,066h,1,0,084e0h,msbt-1,msbt-1,09c52h,0a799h,049b6h,093h,000h,0eeadh
	              E0840201
	              0201529C
	              99A7B649
	              9300ADEE
 579:     -	0E3D  20080000		tstr	020h,008h,0,0,0,1,1,0,0,0,0,0,0		; (16 cycles)
	              00000100
	              01000000
	              00000000
	              00000000
 580:     -	0E51  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0,0,0		; (16 cycles)
	              FFFF0000
	              00000000
	              00000000
	              00000000
 581:     -	0E65  FA2A4D03		db	0fah,02ah,04dh,003h			; expected crc
 582:     -	0E69  6D736724		tmsg	'ld <h,l>,(<ix,iy>+1)..........'
 583:				
 584:				; ld a,(<ix,iy>+1) (128 cycles)
 585:     -	0E6D  D7      	ld8ix3:	db	0d7h		; flag mask
 586:     -	0E6E  DD7E0100		tstr	0ddh,07eh,1,0,0d8b6h,msbt-1,msbt-1,0c612h,0df07h,09cd0h,043h,0a6h,0a0e5h
	              B6D80201
	              020112C6
	              07DFD09C
	              43A6E5A0
 587:     -	0E82  20000000		tstr	020h,0,0,0,0,1,1,0,0,0,0,0,0		; (8 cycles)
	              00000100
	              01000000
	              00000000
	              00000000
 588:     -	0E96  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0,0,0		; (16 cycles)
	              FFFF0000
	              00000000
	              00000000
	              00000000
 589:     -	0EAA  A5E9AC64		db	0a5h,0e9h,0ach,064h			; expected crc
 590:     -	0EAE  6D736724		tmsg	'ld a,(<ix,iy>+1)..............'
 591:				
 592:				; ld <ixh,ixl,iyh,iyl>,nn (32 cycles)
 593:     -	0EB2  D7      	ld8ixy:	db	0d7h		; flag mask
 594:     -	0EB3  DD260000		tstr	0ddh,026h,0,0,03c53h,04640h,0e179h,07711h,0c107h,01afah,081h,0adh,05d9bh
	              533C4046
	              79E11177
	              07C1FA1A
	              81AD9B5D
 595:     -	0EC7  20080000		tstr	020h,8,0,0,0,0,0,0,0,0,0,0,0		; (4 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 596:     -	0EDB  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,-1,0		; (8 cycles)
	              00000000
	              00000000
	              00000000
	              00FF0000
 597:     -	0EEF  24E8828B		db	024h,0e8h,082h,08bh			; expected crc
 598:     -	0EF3  6D736724		tmsg	'ld <ixh,ixl,iyh,iyl>,nn.......'
 599:				
 600:				; ld <b,c,d,e,h,l,a>,<b,c,d,e,h,l,a> (3456 cycles)
 601:     -	0EF7  D7      	ld8rr:	db	0d7h		; flag mask
 602:     -	0EF8  40000000		tstr	040h,0,0,0,072a4h,0a024h,061ach,msbt,082c7h,0718fh,097h,08fh,0ef8eh
	              A47224A0
	              AC610301
	              C7828F71
	              978F8EEF
 603:     -	0F0C  3F000000		tstr	03fh,0,0,0,0,0,0,0,0,0,0,0,0		; (64 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 604:     -	0F20  00000000		tstr	0,0,0,0,0ffh,0,0,0,-1,-1,0d7h,-1,0	; (54 cycles)
	              FF000000
	              00000000
	              FFFFFFFF
	              D7FF0000
 605:     -	0F34  744B0118		db	074h,04bh,001h,018h			; expected crc
 606:     -	0F38  6D736724		tmsg	'ld <bcdehla>,<bcdehla>........'
 607:				
 608:				; ld <b,c,d,e,ixy,a>,<b,c,d,e,ixy,a> (6912 cycles)
 609:     -	0F3C  D7      	ld8rrx:	db	0d7h		; flag mask
 610:     -	0F3D  DD400000		tstr	0ddh,040h,0,0,0bcc5h,msbt,msbt,msbt,02fc2h,098c0h,083h,01fh,03bcdh
	              C5BC0301
	              03010301
	              C22FC098
	              831FCD3B
 611:     -	0F51  203F0000		tstr	020h,03fh,0,0,0,0,0,0,0,0,0,0,0		; (128 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 612:     -	0F65  00000000		tstr	0,0,0,0,0ffh,0,0,0,-1,-1,0d7h,-1,0	; (54 cycles)
	              FF000000
	              00000000
	              FFFFFFFF
	              D7FF0000
 613:     -	0F79  478BA36B		db	047h,08bh,0a3h,06bh			; expected crc
 614:     -	0F7D  6D736724		tmsg	'ld <bcdexya>,<bcdexya>........'
 615:				
 616:				; ld a,(nnnn) / ld (nnnn),a (44 cycles)
 617:     -	0F81  D7      	lda:	db	0d7h		; flag mask
 618:     -	0F82  32030100		tstr	032h,msbtlo,msbthi,0,0fd68h,0f4ech,044a0h,0b543h,00653h,0cdbah,0d2h,04fh,01fd8h
	              68FDECF4
	              A04443B5
	              5306BACD
	              D24FD81F
 619:     -	0F96  08000000		tstr	008h,0,0,0,0,0,0,0,0,0,0,0,0		; (2 cycle)
	              00000000
	              00000000
	              00000000
	              00000000
 620:     -	0FAA  00000000		tstr	0,0,0,0,0ffh,0,0,0,0,0,0d7h,-1,0	; (22 cycles)
	              FF000000
	              00000000
	              00000000
	              D7FF0000
 621:     -	0FBE  C9262DE5		db	0c9h,026h,02dh,0e5h			; expected crc
 622:     -	0FC2  6D736724		tmsg	'ld a,(nnnn) / ld (nnnn),a.....'
 623:				
 624:				; ldd<r> (1) (44 cycles)
 625:     -	0FC6  D7      	ldd1:	db	0d7h		; flag mask
 626:     -	0FC7  EDA80000		tstr	0edh,0a8h,0,0,09852h,068fah,066a1h,msbt+3,msbt+1,1,0c1h,068h,020b7h
	              5298FA68
	              A1660601
	              04010100
	              C168B720
 627:     -	0FDB  00100000		tstr	0,010h,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 628:     -	0FEF  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0d7h,0,0		; (22 cycles)
	              FFFF0000
	              00000000
	              00000000
	              D7000000
 629:     -	1003  94F42769		db	094h,0f4h,027h,069h			; expected crc
 630:     -	1007  6D736724		tmsg	'ldd<r> (1)....................'
 631:				
 632:				; ldd<r> (2) (44 cycles)
 633:     -	100B  D7      	ldd2:	db	0d7h		; flag mask
 634:     -	100C  EDA80000		tstr	0edh,0a8h,0,0,0f12eh,0eb2ah,0d5bah,msbt+3,msbt+1,2,047h,0ffh,0fbe4h
	              2EF12AEB
	              BAD50601
	              04010200
	              47FFE4FB
 635:     -	1020  00100000		tstr	0,010h,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 636:     -	1034  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0d7h,0,0		; (22 cycles)
	              FFFF0000
	              00000000
	              00000000
	              D7000000
 637:     -	1048  5A907ED4		db	05ah,090h,07eh,0d4h			; expected crc
 638:     -	104C  6D736724		tmsg	'ldd<r> (2)....................'
 639:				
 640:				; ldi<r> (1) (44 cycles)
 641:     -	1050  D7      	ldi1:	db	0d7h		; flag mask
 642:     -	1051  EDA00000		tstr	0edh,0a0h,0,0,0fe30h,003cdh,06058h,msbt+2,msbt,1,004h,060h,02688h
	              30FECD03
	              58600501
	              03010100
	              04608826
 643:     -	1065  00100000		tstr	0,010h,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 644:     -	1079  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0d7h,0,0		; (22 cycles)
	              FFFF0000
	              00000000
	              00000000
	              D7000000
 645:     -	108D  9ABDF6B5		db	09ah,0bdh,0f6h,0b5h			; expected crc
 646:     -	1091  6D736724		tmsg	'ldi<r> (1)....................'
 647:				
 648:				; ldi<r> (2) (44 cycles)
 649:     -	1095  D7      	ldi2:	db	0d7h		; flag mask
 650:     -	1096  EDA00000		tstr	0edh,0a0h,0,0,04aceh,0c26eh,0b188h,msbt+2,msbt,2,014h,02dh,0a39fh
	              CE4A6EC2
	              88B10501
	              03010200
	              142D9FA3
 651:     -	10AA  00100000		tstr	0,010h,0,0,0,0,0,0,0,0,0,0,0		; (2 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 652:     -	10BE  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0d7h,0,0		; (22 cycles)
	              FFFF0000
	              00000000
	              00000000
	              D7000000
 653:     -	10D2  EB59891B		db	0ebh,059h,089h,01bh			; expected crc
 654:     -	10D6  6D736724		tmsg	'ldi<r> (2)....................'
 655:				
 656:				; neg (16,384 cycles)
 657:     -	10DA  D7      	negop:	db	0d7h		; flag mask
 658:     -	10DB  ED440000		tstr	0edh,044h,0,0,038a2h,05f6bh,0d934h,057e4h,0d2d6h,04642h,043h,05ah,009cch
	              A2386B5F
	              34D9E457
	              D6D24246
	              435ACC09
 659:     -	10EF  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,-1,0		; (16,384 cycles)
	              00000000
	              00000000
	              00000000
	              D7FF0000
 660:     -	1103  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,0,0		; (1 cycle)
	              00000000
	              00000000
	              00000000
	              00000000
 661:     -	1117  6A3C3BBD		db	06ah,03ch,03bh,0bdh			; expected crc
 662:     -	111B  6D736724		tmsg	'neg...........................'
 663:				
 664:				; <rld,rrd> (7168 cycles)
 665:     -	111F  D7      	rldop:	db	0d7h		; flag mask
 666:     -	1120  ED670000		tstr	0edh,067h,0,0,091cbh,0c48bh,0fa62h,msbt,0e720h,0b479h,040h,006h,08ae2h
	              CB918BC4
	              62FA0301
	              20E779B4
	              4006E28A
 667:     -	1134  00080000		tstr	0,8,0,0,0ffh,0,0,0,0,0,0,0,0		; (512 cycles)
	              FF000000
	              00000000
	              00000000
	              00000000
 668:     -	1148  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,-1,0		; (14 cycles)
	              00000000
	              00000000
	              00000000
	              D7FF0000
 669:     -	115C  955BA326		db	095h,05bh,0a3h,026h			; expected crc
 670:     -	1160  6D736724		tmsg	'<rrd,rld>.....................'
 671:				
 672:				; <rlca,rrca,rla,rra> (6144 cycles)
 673:     -	1164  D7      	rot8080: db	0d7h		; flag mask
 674:     -	1165  07000000		tstr	7,0,0,0,0cb92h,06d43h,00a90h,0c284h,00c53h,0f50eh,091h,0ebh,040fch
	              92CB436D
	              900A84C2
	              530C0EF5
	              91EBFC40
 675:     -	1179  18000000		tstr	018h,0,0,0,0,0,0,0,0,0,0,-1,0		; (1024 cycles)
	              00000000
	              00000000
	              00000000
	              00FF0000
 676:     -	118D  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0d7h,0,0		; (6 cycles)
	              00000000
	              00000000
	              00000000
	              D7000000
 677:     -	11A1  251330AE		db	025h,013h,030h,0aeh			; expected crc
 678:     -	11A5  6D736724		tmsg	'<rlca,rrca,rla,rra>...........'
 679:				
 680:				; shift/rotate (<ix,iy>+1) (416 cycles)
 681:     -	11A9  D7      	rotxy:	db	0d7h		; flag mask
 682:     -	11AA  DDCB0106		tstr	0ddh,0cbh,1,6,0ddafh,msbt-1,msbt-1,0ff3ch,0dbf6h,094f4h,082h,080h,061d9h
	              AFDD0201
	              02013CFF
	              F6DBF494
	              8280D961
 683:     -	11BE  20000038		tstr	020h,0,0,038h,0,0,0,0,0,0,080h,0,0	; (32 cycles)
	              00000000
	              00000000
	              00000000
	              80000000
 684:     -	11D2  00000000		tstr	0,0,0,0,0ffh,0,0,0,0,0,057h,0,0		; (13 cycles)
	              FF000000
	              00000000
	              00000000
	              57000000
 685:     -	11E6  713ACD81		db	071h,03ah,0cdh,081h			; expected crc
 686:     -	11EA  6D736724		tmsg	'shf/rot (<ix,iy>+1)...........'
 687:				
 688:				; shift/rotate <b,c,d,e,h,l,(hl),a> (6784 cycles)
 689:     -	11EE  D7      	rotz80:	db	0d7h		; flag mask
 690:     -	11EF  CB000000		tstr	0cbh,0,0,0,0ccebh,05d4ah,0e007h,msbt,01395h,030eeh,043h,078h,03dadh
	              EBCC4A5D
	              07E00301
	              9513EE30
	              4378AD3D
 691:     -	1203  003F0000		tstr	0,03fh,0,0,0,0,0,0,0,0,080h,0,0		; (128 cycles)
	              00000000
	              00000000
	              00000000
	              80000000
 692:     -	1217  00000000		tstr	0,0,0,0,0ffh,0,0,0,-1,-1,057h,-1,0	; (53 cycles)
	              FF000000
	              00000000
	              FFFFFFFF
	              57FF0000
 693:     -	122B  EB604D58		db	0ebh,060h,04dh,058h			; expected crc
 694:     -	122F  6D736724		tmsg	'shf/rot <b,c,d,e,h,l,(hl),a>..'
 695:				
 696:				; <set,res> n,<b,c,d,e,h,l,(hl),a> (7936 cycles)
 697:     -	1233  D7      	srz80:	db	0d7h		; flag mask
 698:     -	1234  CB800000		tstr	0cbh,080h,0,0,02cd5h,097abh,039ffh,msbt,0d14bh,06ab2h,053h,027h,0b538h
	              D52CAB97
	              FF390301
	              4BD1B26A
	              532738B5
 699:     -	1248  007F0000		tstr	0,07fh,0,0,0,0,0,0,0,0,0,0,0		; (128 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 700:     -	125C  00000000		tstr	0,0,0,0,0ffh,0,0,0,-1,-1,0d7h,-1,0	; (62 cycles)
	              FF000000
	              00000000
	              FFFFFFFF
	              D7FF0000
 701:     -	1270  8B57F008		db	08bh,057h,0f0h,008h			; expected crc
 702:     -	1274  6D736724		tmsg	'<set,res> n,<bcdehl(hl)a>.....'
 703:				
 704:				; <set,res> n,(<ix,iy>+1) (1792 cycles)
 705:     -	1278  D7      	srzx:	db	0d7h		; flag mask
 706:     -	1279  DDCB0186		tstr	0ddh,0cbh,1,086h,0fb44h,msbt-1,msbt-1,0ba09h,068beh,032d8h,010h,05eh,0a867h
	              44FB0201
	              020109BA
	              BE68D832
	              105E67A8
 707:     -	128D  20000078		tstr	020h,0,0,078h,0,0,0,0,0,0,0,0,0	; (128 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 708:     -	12A1  00000000		tstr	0,0,0,0,0ffh,0,0,0,0,0,0d7h,0,0		;(14 cycles)
	              FF000000
	              00000000
	              00000000
	              D7000000
 709:     -	12B5  CC63F98A		db	0cch,063h,0f9h,08ah			; expected crc
 710:     -	12B9  6D736724		tmsg	'<set,res> n,(<ix,iy>+1).......'
 711:				
 712:				; ld (<ix,iy>+1),<b,c,d,e> (1024 cycles)
 713:     -	12BD  D7      	st8ix1:	db	0d7h		; flag mask
 714:     -	12BE  DD700100		tstr	0ddh,070h,1,0,0270dh,msbt-1,msbt-1,0b73ah,0887bh,099eeh,086h,070h,0ca07h
	              0D270201
	              02013AB7
	              7B88EE99
	              867007CA
 715:     -	12D2  20030000		tstr	020h,003h,0,0,0,1,1,0,0,0,0,0,0		; (32 cycles)
	              00000100
	              01000000
	              00000000
	              00000000
 716:     -	12E6  00000000		tstr	0,0,0,0,0,0,0,0,-1,-1,0,0,0		; (32 cycles)
	              00000000
	              00000000
	              FFFFFFFF
	              00000000
 717:     -	12FA  04626ABF		db	004h,062h,06ah,0bfh			; expected crc
 718:     -	12FE  6D736724		tmsg	'ld (<ix,iy>+1),<b,c,d,e>......'
 719:				
 720:				; ld (<ix,iy>+1),<h,l> (256 cycles)
 721:     -	1302  D7      	st8ix2:	db	0d7h		; flag mask
 722:     -	1303  DD740100		tstr	0ddh,074h,1,0,0b664h,msbt-1,msbt-1,0e8ach,0b5f5h,0aafeh,012h,010h,09566h
	              64B60201
	              0201ACE8
	              F5B5FEAA
	              12106695
 723:     -	1317  20010000		tstr	020h,001h,0,0,0,1,1,0,0,0,0,0,0		; (16 cycles)
	              00000100
	              01000000
	              00000000
	              00000000
 724:     -	132B  00000000		tstr	0,0,0,0,0,0,0,-1,0,0,0,0,0		; (32 cycles)
	              00000000
	              0000FFFF
	              00000000
	              00000000
 725:     -	133F  6A1A8831		db	06ah,01ah,088h,031h			; expected crc
 726:     -	1343  6D736724		tmsg	'ld (<ix,iy>+1),<h,l>..........'
 727:				
 728:				; ld (<ix,iy>+1),a (64 cycles)
 729:     -	1347  D7      	st8ix3:	db	0d7h		; flag mask
 730:     -	1348  DD770100		tstr	0ddh,077h,1,0,067afh,msbt-1,msbt-1,04f13h,00644h,0bcd7h,050h,0ach,05fafh
	              AF670201
	              0201134F
	              4406D7BC
	              50ACAF5F
 731:     -	135C  20000000		tstr	020h,0,0,0,0,1,1,0,0,0,0,0,0		; (8 cycles)
	              00000100
	              01000000
	              00000000
	              00000000
 732:     -	1370  00000000		tstr	0,0,0,0,0,0,0,0,0,0,0,-1,0		; (8 cycles)
	              00000000
	              00000000
	              00000000
	              00FF0000
 733:     -	1384  CCBE5A96		db	0cch,0beh,05ah,096h			; expected crc
 734:     -	1388  6D736724		tmsg	'ld (<ix,iy>+1),a..............'
 735:				
 736:				; ld (<bc,de>),a (96 cycles)
 737:     -	138C  D7      	stabd:	db	0d7h		; flag mask
 738:     -	138D  02000000		tstr	2,0,0,0,00c3bh,0b592h,06cffh,0959eh,msbt,msbt+1,0c1h,021h,0bde7h
	              3B0C92B5
	              FF6C9E95
	              03010401
	              C121E7BD
 739:     -	13A1  18000000		tstr	018h,0,0,0,0,0,0,0,0,0,0,0,0		; (4 cycles)
	              00000000
	              00000000
	              00000000
	              00000000
 740:     -	13B5  00000000		tstr	0,0,0,0,-1,0,0,0,0,0,0,-1,0		; (24 cycles)
	              FFFF0000
	              00000000
	              00000000
	              00FF0000
 741:     -	13C9  7A4C114F		db	07ah,04ch,011h,04fh			; expected crc
 742:     -	13CD  6D736724		tmsg	'ld (<bc,de>),a................'
 743:				
 744:				; start test pointed to by (hl)
 745:  177+11	13D1  E5      	stt:	push	hl
 746:  188+7	13D2  7E      		ld	a,(hl)		; get pointer to test
 747:  195+6	13D3  23      		inc	hl
 748:  201+7	13D4  66      		ld	h,(hl)
 749:  208+4	13D5  6F      		ld	l,a
 750:  212+7	13D6  7E      		ld	a,(hl)		; flag mask
 751:  219+13	13D7  325416  		ld	(flgmsk+1),a
 752:  232+6	13DA  23      		inc	hl
 753:  238+11	13DB  E5      		push	hl
 754:  249+10	13DC  111400  		ld	de,20
 755:  259+11	13DF  19      		add	hl,de		; point to incmask
 756:  270+10	13E0  11C915  		ld	de,counter
 757:  280+17	13E3  CD3815  		call	initmask
 758:  297+10	13E6  E1      		pop	hl
 759:  307+11	13E7  E5      		push	hl
 760:  318+10	13E8  112800  		ld	de,20+20
 761:  328+11	13EB  19      		add	hl,de		; point to scanmask
 762:  339+10	13EC  11F115  		ld	de,shifter
 763:  349+17	13EF  CD3815  		call	initmask
 764:  366+10	13F2  21F115  		ld	hl,shifter
 765:  376+10	13F5  3601    		ld	(hl),1		; first bit
 766:  386+10	13F7  E1      		pop	hl
 767:  396+11	13F8  E5      		push	hl
 768:  407+10	13F9  113116  		ld	de,iut		; copy initial instruction under test
 769:  417+10	13FC  010400  		ld	bc,4
 770:  427+16+5	13FF  EDB0    		ldir
 771:  443+10	1401  110301  		ld	de,msbt		; copy initial machine state
 772:  453+10	1404  011000  		ld	bc,16
 773:  463+16+5	1407  EDB0    		ldir
 774:  479+10	1409  112C00  		ld	de,20+20+4	; skip incmask, scanmask and expcrc
 775:  489+11	140C  19      		add	hl,de
 776:  500+4	140D  EB      		ex	de,hl
 777:  504+7	140E  0E09    		ld	c,9
 778:  511+17	1410  CDBD16  		call	bdos		; show test name
 779:  528+17	1413  CD7317  		call	initcrc		; initialise crc
 780:				; test loop
 781:  545+13	1416  3A3116  	tlp:	ld	a,(iut)
 782:  558+7	1419  FE76    		cp	076h		; pragmatically avoid halt intructions
 783:  565+10	141B  CA2D14  		jp	z,tlp2
 784:  575+7	141E  E6DF    		and	a,0dfh
 785:  582+7	1420  FEDD    		cp	0ddh
 786:  589+10	1422  C22A14  		jp	nz,tlp1
 787:  599+13	1425  3A3216  		ld	a,(iut+1)
 788:  612+7	1428  FE76    		cp	076h
 789:  619+10+7	142A  C41916  	tlp1:	call	nz,test		; execute the test instruction
 790:  629+17	142D  CD7815  	tlp2:	call	count		; increment the counter
 791:  646+10+7	1430  C49C15  		call	nz,shift	; shift the scan bit
 792:  656+10	1433  E1      		pop	hl		; pointer to test case
 793:  666+10	1434  CA6914  		jp	z,tlp3		; done if shift returned NZ
 794:  676+10	1437  113C00  		ld	de,20+20+20
 795:  686+11	143A  19      		add	hl,de		; point to expected crc
 796:  697+17	143B  CD3417  		call	cmpcrc
 797:  714+10	143E  110A17  		ld	de,okmsg
 798:  724+10	1441  CA6014  		jp	z,tlpok
 799:  734+10	1444  111117  		ld	de,ermsg1
 800:  744+7	1447  0E09    		ld	c,9
 801:  751+17	1449  CDBD16  		call	bdos
 802:  768+17	144C  CD8816  		call	phex8
 803:  785+10	144F  112C17  		ld	de,ermsg2
 804:  795+7	1452  0E09    		ld	c,9
 805:  802+17	1454  CDBD16  		call	bdos
 806:  819+10	1457  218717  		ld	hl,crcval
 807:  829+17	145A  CD8816  		call	phex8
 808:  846+10	145D  110717  		ld	de,crlf
 809:  856+7	1460  0E09    	tlpok:	ld	c,9
 810:  863+17	1462  CDBD16  		call	bdos
 811:  880+10	1465  E1      		pop	hl
 812:  890+6	1466  23      		inc	hl
 813:  896+6	1467  23      		inc	hl
 814:  902+10	1468  C9      		ret
 815:				
 816:  912+11	1469  E5      	tlp3:	push	hl
 817:  923+7	146A  3E01    		ld	a,1		; initialise count and shift scanners
 818:  930+13	146C  32DF14  		ld	(cntbit),a
 819:  943+13	146F  320315  		ld	(shfbit),a
 820:  956+10	1472  21C915  		ld	hl,counter
 821:  966+16	1475  22E014  		ld	(cntbyt),hl
 822:  982+10	1478  21F115  		ld	hl,shifter
 823:  992+16	147B  220415  		ld	(shfbyt),hl
 824:				
 825: 1008+7	147E  0604    		ld	b,4		; bytes in iut field
 826: 1015+10	1480  E1      		pop	hl		; pointer to test case
 827: 1025+11	1481  E5      		push	hl
 828: 1036+10	1482  113116  		ld	de,iut
 829: 1046+17	1485  CD9314  		call	setup		; setup iut
 830: 1063+7	1488  0610    		ld	b,16		; bytes in machine state
 831: 1070+10	148A  110301  		ld	de,msbt
 832: 1080+17	148D  CD9314  		call	setup		; setup machine state
 833: 1097+10	1490  C31614  		jp	tlp
 834:				
 835:				; setup a field of the test case
 836:				; b  = number of bytes
 837:				; hl = pointer to base case
 838:				; de = destination
 839: 1107+17	1493  CD9C14  	setup:	call	subyte
 840: 1124+6	1496  23      		inc	hl
 841: 1130+4	1497  05      		dec	b
 842: 1134+10	1498  C29314  		jp	nz,setup
 843: 1144+10	149B  C9      		ret
 844:				
 845: 1154+11	149C  C5      	subyte:	push	bc
 846: 1165+11	149D  D5      		push	de
 847: 1176+11	149E  E5      		push	hl
 848: 1187+7	149F  4E      		ld	c,(hl)		; get base byte
 849: 1194+10	14A0  111400  		ld	de,20
 850: 1204+11	14A3  19      		add	hl,de		; point to incmask
 851: 1215+7	14A4  7E      		ld	a,(hl)
 852: 1222+7	14A5  FE00    		cp	0
 853: 1229+10	14A7  CABD14  		jp	z,subshf
 854: 1239+7	14AA  0608    		ld	b,8		; 8 bits
 855: 1246+4	14AC  0F      	subclp:	rrca
 856: 1250+11	14AD  F5      		push	af
 857: 1261+7	14AE  3E00    		ld	a,0
 858: 1268+10+7	14B0  DCE214  		call	c,nxtcbit	; get next counter bit if mask bit was set
 859: 1278+4	14B3  A9      		xor	c		; flip bit if counter bit was set
 860: 1282+4	14B4  0F      		rrca
 861: 1286+4	14B5  4F      		ld	c,a
 862: 1290+10	14B6  F1      		pop	af
 863: 1300+4	14B7  05      		dec	b
 864: 1304+10	14B8  C2AC14  		jp	nz,subclp
 865: 1314+7	14BB  0608    		ld	b,8
 866: 1321+10	14BD  111400  	subshf:	ld	de,20
 867: 1331+11	14C0  19      		add	hl,de		; point to shift mask
 868: 1342+7	14C1  7E      		ld	a,(hl)
 869: 1349+7	14C2  FE00    		cp	0
 870: 1356+10	14C4  CAD814  		jp	z,substr
 871: 1366+7	14C7  0608    		ld	b,8		; 8 bits
 872: 1373+4	14C9  0F      	sbshf1:	rrca
 873: 1377+11	14CA  F5      		push	af
 874: 1388+7	14CB  3E00    		ld	a,0
 875: 1395+10+7	14CD  DC0615  		call	c,nxtsbit	; get next shifter bit if mask bit was set
 876: 1405+4	14D0  A9      		xor	c		; flip bit if shifter bit was set
 877: 1409+4	14D1  0F      		rrca
 878: 1413+4	14D2  4F      		ld	c,a
 879: 1417+10	14D3  F1      		pop	af
 880: 1427+4	14D4  05      		dec	b
 881: 1431+10	14D5  C2C914  		jp	nz,sbshf1
 882: 1441+10	14D8  E1      	substr:	pop	hl
 883: 1451+10	14D9  D1      		pop	de
 884: 1461+4	14DA  79      		ld	a,c
 885: 1465+7	14DB  12      		ld	(de),a		; mangled byte to destination
 886: 1472+6	14DC  13      		inc	de
 887: 1478+10	14DD  C1      		pop	bc
 888: 1488+10	14DE  C9      		ret
 889:				
 890:				; get next counter bit in low bit of a
 891:     -	14DF          	cntbit:	ds	1
 892:     -	14E0          	cntbyt:	ds	2
 893:				
 894: 1498+11	14E2  C5      	nxtcbit: push	bc
 895: 1509+11	14E3  E5      		push	hl
 896: 1520+16	14E4  2AE014  		ld	hl,(cntbyt)
 897: 1536+7	14E7  46      		ld	b,(hl)
 898: 1543+10	14E8  21DF14  		ld	hl,cntbit
 899: 1553+7	14EB  7E      		ld	a,(hl)
 900: 1560+4	14EC  4F      		ld	c,a
 901: 1564+4	14ED  07      		rlca
 902: 1568+7	14EE  77      		ld	(hl),a
 903: 1575+7	14EF  FE01    		cp	a,1
 904: 1582+10	14F1  C2FB14  		jp	nz,ncb1
 905: 1592+16	14F4  2AE014  		ld	hl,(cntbyt)
 906: 1608+6	14F7  23      		inc	hl
 907: 1614+16	14F8  22E014  		ld	(cntbyt),hl
 908: 1630+4	14FB  78      	ncb1:	ld	a,b
 909: 1634+4	14FC  A1      		and	c
 910: 1638+10	14FD  E1      		pop	hl
 911: 1648+10	14FE  C1      		pop	bc
 912: 1658+5+6	14FF  C8      		ret	z
 913: 1663+7	1500  3E01    		ld	a,1
 914: 1670+10	1502  C9      		ret
 915:					
 916:				; get next shifter bit in low bit of a
 917:     -	1503          	shfbit:	ds	1
 918:     -	1504          	shfbyt:	ds	2
 919:				
 920: 1680+11	1506  C5      	nxtsbit: push	bc
 921: 1691+11	1507  E5      		push	hl
 922: 1702+16	1508  2A0415  		ld	hl,(shfbyt)
 923: 1718+7	150B  46      		ld	b,(hl)
 924: 1725+10	150C  210315  		ld	hl,shfbit
 925: 1735+7	150F  7E      		ld	a,(hl)
 926: 1742+4	1510  4F      		ld	c,a
 927: 1746+4	1511  07      		rlca
 928: 1750+7	1512  77      		ld	(hl),a
 929: 1757+7	1513  FE01    		cp	a,1
 930: 1764+10	1515  C21F15  		jp	nz,nsb1
 931: 1774+16	1518  2A0415  		ld	hl,(shfbyt)
 932: 1790+6	151B  23      		inc	hl
 933: 1796+16	151C  220415  		ld	(shfbyt),hl
 934: 1812+4	151F  78      	nsb1:	ld	a,b
 935: 1816+4	1520  A1      		and	c
 936: 1820+10	1521  E1      		pop	hl
 937: 1830+10	1522  C1      		pop	bc
 938: 1840+5+6	1523  C8      		ret	z
 939: 1845+7	1524  3E01    		ld	a,1
 940: 1852+10	1526  C9      		ret
 941:					
 942:				
 943:				; clear memory at hl, bc bytes
 944: 1862+11	1527  F5      	clrmem:	push	af
 945: 1873+11	1528  C5      		push	bc
 946: 1884+11	1529  D5      		push	de
 947: 1895+11	152A  E5      		push	hl
 948: 1906+10	152B  3600    		ld	(hl),0
 949: 1916+4	152D  54      		ld	d,h
 950: 1920+4	152E  5D      		ld	e,l
 951: 1924+6	152F  13      		inc	de
 952: 1930+6	1530  0B      		dec	bc
 953: 1936+16+5	1531  EDB0    		ldir
 954: 1952+10	1533  E1      		pop	hl
 955: 1962+10	1534  D1      		pop	de
 956: 1972+10	1535  C1      		pop	bc
 957: 1982+10	1536  F1      		pop	af
 958: 1992+10	1537  C9      		ret
 959:				
 960:				; initialise counter or shifter
 961:				; de = pointer to work area for counter or shifter
 962:				; hl = pointer to mask
 963:     -	1538          	initmask:
 964: 2002+11	1538  D5      		push	de
 965: 2013+4	1539  EB      		ex	de,hl
 966: 2017+10	153A  012800  		ld	bc,20+20
 967: 2027+17	153D  CD2715  		call	clrmem		; clear work area
 968: 2044+4	1540  EB      		ex	de,hl
 969: 2048+7	1541  0614    		ld	b,20		; byte counter
 970: 2055+7	1543  0E01    		ld	c,1		; first bit
 971: 2062+7	1545  1600    		ld	d,0		; bit counter
 972: 2069+7	1547  5E      	imlp:	ld	e,(hl)
 973: 2076+4	1548  7B      	imlp1:	ld	a,e
 974: 2080+4	1549  A1      		and	a,c
 975: 2084+10	154A  CA4E15  		jp	z,imlp2
 976: 2094+4	154D  14      		inc	d
 977: 2098+4	154E  79      	imlp2:	ld	a,c
 978: 2102+4	154F  07      		rlca
 979: 2106+4	1550  4F      		ld	c,a
 980: 2110+7	1551  FE01    		cp	a,1
 981: 2117+10	1553  C24815  		jp	nz,imlp1
 982: 2127+6	1556  23      		inc	hl
 983: 2133+4	1557  05      		dec	b
 984: 2137+10	1558  C24715  		jp	nz,imlp
 985:				; got number of 1-bits in mask in reg d
 986: 2147+4	155B  7A      		ld	a,d
 987: 2151+7	155C  E6F8    		and	0f8h
 988: 2158+4	155E  0F      		rrca
 989: 2162+4	155F  0F      		rrca
 990: 2166+4	1560  0F      		rrca			; divide by 8 (get byte offset)
 991: 2170+4	1561  6F      		ld	l,a
 992: 2174+7	1562  2600    		ld	h,0
 993: 2181+4	1564  7A      		ld	a,d
 994: 2185+7	1565  E607    		and	a,7		; bit offset
 995: 2192+4	1567  3C      		inc	a
 996: 2196+4	1568  47      		ld	b,a
 997: 2200+7	1569  3E80    		ld	a,080h
 998: 2207+4	156B  07      	imlp3:	rlca
 999: 2211+4	156C  05      		dec	b
1000: 2215+10	156D  C26B15  		jp	nz,imlp3
1001: 2225+10	1570  D1      		pop	de
1002: 2235+11	1571  19      		add	hl,de
1003: 2246+10	1572  111400  		ld	de,20
1004: 2256+11	1575  19      		add	hl,de
1005: 2267+7	1576  77      		ld	(hl),a
1006: 2274+10	1577  C9      		ret
1007:				
1008:				; multi-byte counter
1009: 2284+11	1578  C5      	count:	push	bc
1010: 2295+11	1579  D5      		push	de
1011: 2306+11	157A  E5      		push	hl
1012: 2317+10	157B  21C915  		ld	hl,counter	; 20 byte counter starts here
1013: 2327+10	157E  111400  		ld	de,20		; somewhere in here is the stop bit
1014: 2337+4	1581  EB      		ex	de,hl
1015: 2341+11	1582  19      		add	hl,de
1016: 2352+4	1583  EB      		ex	de,hl
1017: 2356+11	1584  34      	cntlp:	inc	(hl)
1018: 2367+7	1585  7E      		ld	a,(hl)
1019: 2374+7	1586  FE00    		cp	0
1020: 2381+10	1588  CA9715  		jp	z,cntlp1	; overflow to next byte
1021: 2391+4	158B  47      		ld	b,a
1022: 2395+7	158C  1A      		ld	a,(de)
1023: 2402+4	158D  A0      		and	a,b		; test for terminal value
1024: 2406+10	158E  CA9315  		jp	z,cntend
1025: 2416+10	1591  3600    		ld	(hl),0		; reset to zero
1026: 2426+10	1593  C1      	cntend:	pop	bc
1027: 2436+10	1594  D1      		pop	de
1028: 2446+10	1595  E1      		pop	hl
1029: 2456+10	1596  C9      		ret
1030:				
1031: 2466+6	1597  23      	cntlp1:	inc	hl
1032: 2472+6	1598  13      		inc	de
1033: 2478+10	1599  C38415  		jp	cntlp
1034:					
1035:				
1036:				; multi-byte shifter
1037: 2488+11	159C  C5      	shift:	push	bc
1038: 2499+11	159D  D5      		push	de
1039: 2510+11	159E  E5      		push	hl
1040: 2521+10	159F  21F115  		ld	hl,shifter	; 20 byte shift register starts here
1041: 2531+10	15A2  111400  		ld	de,20		; somewhere in here is the stop bit
1042: 2541+4	15A5  EB      		ex	de,hl
1043: 2545+11	15A6  19      		add	hl,de
1044: 2556+4	15A7  EB      		ex	de,hl
1045: 2560+7	15A8  7E      	shflp:	ld	a,(hl)
1046: 2567+4	15A9  B7      		or	a
1047: 2571+10	15AA  CAC415  		jp	z,shflp1
1048: 2581+4	15AD  47      		ld	b,a
1049: 2585+7	15AE  1A      		ld	a,(de)
1050: 2592+4	15AF  A0      		and	b
1051: 2596+10	15B0  C2C015  		jp	nz,shlpe
1052: 2606+4	15B3  78      		ld	a,b
1053: 2610+4	15B4  07      		rlca
1054: 2614+7	15B5  FE01    		cp	a,1
1055: 2621+10	15B7  C2BE15  		jp	nz,shflp2
1056: 2631+10	15BA  3600    		ld	(hl),0
1057: 2641+6	15BC  23      		inc	hl
1058: 2647+6	15BD  13      		inc	de
1059: 2653+7	15BE  77      	shflp2:	ld	(hl),a
1060: 2660+4	15BF  AF      		xor	a		; set Z
1061: 2664+10	15C0  E1      	shlpe:	pop	hl
1062: 2674+10	15C1  D1      		pop	de
1063: 2684+10	15C2  C1      		pop	bc
1064: 2694+10	15C3  C9      		ret
1065: 2704+6	15C4  23      	shflp1:	inc	hl
1066: 2710+6	15C5  13      		inc	de
1067: 2716+10	15C6  C3A815  		jp	shflp
1068:				
1069:     -	15C9          	counter: ds	2*20
1070:     -	15F1          	shifter: ds	2*20
1071:				
1072:				; test harness
1073: 2726+11	1619  F5      	test:	push	af
1074: 2737+11	161A  C5      		push	bc
1075: 2748+11	161B  D5      		push	de
1076: 2759+11	161C  E5      		push	hl
1077:     -	0000          	      if	0
1090:				      endif	
1091: 2770+4	161D  F3      		di			; disable interrupts
1092: 2774+20	161E  ED737C16		ld	(spsav),sp	; save stack pointer
1093: 2794+10	1622  310501  		ld	sp,msbt+2	; point to test-case machine state
1094: 2804+14	1625  FDE1    		pop	iy		; and load all regs
1095: 2818+14	1627  DDE1    		pop	ix
1096: 2832+10	1629  E1      		pop	hl
1097: 2842+10	162A  D1      		pop	de
1098: 2852+10	162B  C1      		pop	bc
1099: 2862+10	162C  F1      		pop	af
1100: 2872+20	162D  ED7B1101		ld	sp,(spbt)
1101:     -	1631          	iut:	ds	4		; max 4 byte instruction under test
1102: 2892+20	1635  ED737A16		ld	(spat),sp	; save stack pointer
1103: 2912+10	1639  317A16  		ld	sp,spat
1104: 2922+11	163C  F5      		push	af		; save other registers
1105: 2933+11	163D  C5      		push	bc
1106: 2944+11	163E  D5      		push	de
1107: 2955+11	163F  E5      		push	hl
1108: 2966+15	1640  DDE5    		push	ix
1109: 2981+15	1642  FDE5    		push	iy
1110: 2996+20	1644  ED7B7C16		ld	sp,(spsav)	; restore stack pointer
1111: 3016+4	1648  FB      		ei			; enable interrupts
1112: 3020+16	1649  2A0301  		ld	hl,(msbt)	; copy memory operand
1113: 3036+16	164C  226C16  		ld	(msat),hl
1114: 3052+10	164F  217816  		ld	hl,flgsat	; flags after test
1115: 3062+7	1652  7E      		ld	a,(hl)
1116: 3069+7	1653  E6D7    	flgmsk:	and	a,0d7h		; mask-out irrelevant bits (self-modified code!)
1117: 3076+7	1655  77      		ld	(hl),a
1118: 3083+7	1656  0610    		ld	b,16		; total of 16 bytes of state
1119: 3090+10	1658  116C16  		ld	de,msat
1120: 3100+10	165B  218717  		ld	hl,crcval
1121: 3110+7	165E  1A      	tcrc:	ld	a,(de)
1122: 3117+6	165F  13      		inc	de
1123: 3123+17	1660  CD4B17  		call	updcrc		; accumulate crc of this test case
1124: 3140+4	1663  05      		dec	b
1125: 3144+10	1664  C25E16  		jp	nz,tcrc
1126:     -	0000          	      if	0
1141:				      endif
1142: 3154+10	1667  E1      		pop	hl
1143: 3164+10	1668  D1      		pop	de
1144: 3174+10	1669  C1      		pop	bc
1145: 3184+10	166A  F1      		pop	af
1146: 3194+10	166B  C9      		ret
1147:				
1148:				; machine state after test
1149:     -	166C          	msat:	ds	14	; memop,iy,ix,hl,de,bc,af
1150:     -	167A          	spat:	ds	2	; stack pointer after test
1151:				; ZMAC/MAXAM doesn't like ':' after label with EQUs
1152:     -	1678          	flgsat	equ	spat-2	; flags
1153:				
1154:     -	167C          	spsav:	ds	2	; saved stack pointer
1155:				
1156:				; display hex string (pointer in hl, byte count in b)
1157: 3204+7	167E  7E      	hexstr:	ld	a,(hl)
1158: 3211+17	167F  CD9A16  		call	phex2
1159: 3228+6	1682  23      		inc	hl
1160: 3234+4	1683  05      		dec	b
1161: 3238+10	1684  C27E16  		jp	nz,hexstr
1162: 3248+10	1687  C9      		ret
1163:				
1164:				; display hex
1165:				; display the big-endian 32-bit value pointed to by hl
1166: 3258+11	1688  F5      	phex8:	push	af
1167: 3269+11	1689  C5      		push	bc
1168: 3280+11	168A  E5      		push	hl
1169: 3291+7	168B  0604    		ld	b,4
1170: 3298+7	168D  7E      	ph8lp:	ld	a,(hl)
1171: 3305+17	168E  CD9A16  		call	phex2
1172: 3322+6	1691  23      		inc	hl
1173: 3328+4	1692  05      		dec	b
1174: 3332+10	1693  C28D16  		jp	nz,ph8lp
1175: 3342+10	1696  E1      		pop	hl
1176: 3352+10	1697  C1      		pop	bc
1177: 3362+10	1698  F1      		pop	af
1178: 3372+10	1699  C9      		ret
1179:				
1180:				; display byte in a
1181: 3382+11	169A  F5      	phex2:	push	af
1182: 3393+4	169B  0F      		rrca
1183: 3397+4	169C  0F      		rrca
1184: 3401+4	169D  0F      		rrca
1185: 3405+4	169E  0F      		rrca
1186: 3409+17	169F  CDA316  		call	phex1
1187: 3426+10	16A2  F1      		pop	af
1188:				; fall through	
1189:				
1190:				; display low nibble in a
1191: 3436+11	16A3  F5      	phex1:	push	af
1192: 3447+11	16A4  C5      		push	bc
1193: 3458+11	16A5  D5      		push	de
1194: 3469+11	16A6  E5      		push	hl
1195: 3480+7	16A7  E60F    		and	a,0fh
1196: 3487+7	16A9  FE0A    		cp	a,10
1197: 3494+10	16AB  DAB016  		jp	c,ph11
1198: 3504+7	16AE  C627    		add	a,'a'-'9'-1
1199: 3511+7	16B0  C630    	ph11:	add	a,'0'
1200: 3518+4	16B2  5F      		ld	e,a
1201: 3522+7	16B3  0E02    		ld	c,2
1202: 3529+17	16B5  CDBD16  		call	bdos
1203: 3546+10	16B8  E1      		pop	hl
1204: 3556+10	16B9  D1      		pop	de
1205: 3566+10	16BA  C1      		pop	bc
1206: 3576+10	16BB  F1      		pop	af
1207: 3586+10	16BC  C9      		ret
1208:				
1209: 3596+11	16BD  F5      	bdos	push	af
1210: 3607+11	16BE  C5      		push	bc
1211: 3618+11	16BF  D5      		push	de
1212: 3629+11	16C0  E5      		push	hl
1213:					
1214: 3640+4	16C1  79      		ld	a, c
1215: 3644+7	16C2  FE02    		cp	2
1216: 3651+7+5	16C4  2005    		jr	NZ, bdosstr
1217: 3658+4	16C6  7B      		ld	a, e
1218: 3662+11	16C7  D301    		out	(1), a
1219: 3673+12	16C9  180A    		jr	bdosex
1220:				
1221:     -	16CB          	bdosstr
1222: 3685+7	16CB  1A      		ld	a, (DE)
1223: 3692+7	16CC  FE24    		cp	'$'
1224: 3699+7+5	16CE  2805    		jr	Z, bdosex
1225: 3706+11	16D0  D301    		out	(1), a
1226: 3717+6	16D2  13      		inc	DE
1227: 3723+12	16D3  18F6    		jr	bdosstr	
1228:				;	call	5
1229:     -	16D5          	bdosex
1230: 3735+10	16D5  E1      		pop	hl
1231: 3745+10	16D6  D1      		pop	de
1232: 3755+10	16D7  C1      		pop	bc
1233: 3765+10	16D8  F1      		pop	af
1234: 3775+10	16D9  C9      		ret
1235:					
1236:     -	16DA  5A383064	msg1:	db	'Z80doc instruction exerciser',10,13,'$'
	              6F632069
	              6E737472
	              75637469
	              6F6E2065
	              78657263
	              69736572
	              0A0D24
1237:     -	16F9  54657374	msg2:	db	'Tests complete'
	              7320636F
	              6D706C65
	              7465
1238:     -	1707  0A0D24  	crlf:	db	10,13,'$'
1239:     -	170A  20204F4B	okmsg:	db	'  OK',10,13,'$'
	              0A0D24
1240:     -	1711  20204552	ermsg1:	db	'  ERROR **** crc expected:$'
	              524F5220
	              2A2A2A2A
	              20637263
	              20657870
	              65637465
	              643A24
1241:     -	172C  20666F75	ermsg2:	db	' found:$'
	              6E643A24
1242:				
1243:				; compare crc
1244:				; hl points to value to compare to crcval
1245: 3785+11	1734  C5      	cmpcrc:	push	bc
1246: 3796+11	1735  D5      		push	de
1247: 3807+11	1736  E5      		push	hl
1248: 3818+10	1737  118717  		ld	de,crcval
1249: 3828+7	173A  0604    		ld	b,4
1250: 3835+7	173C  1A      	cclp:	ld	a,(de)
1251: 3842+7	173D  BE      		cp	a,(hl)
1252: 3849+10	173E  C24717  		jp	nz,cce
1253: 3859+6	1741  23      		inc	hl
1254: 3865+6	1742  13      		inc	de
1255: 3871+4	1743  05      		dec	b
1256: 3875+10	1744  C23C17  		jp	nz,cclp
1257: 3885+10	1747  E1      	cce:	pop	hl
1258: 3895+10	1748  D1      		pop	de
1259: 3905+10	1749  C1      		pop	bc
1260: 3915+10	174A  C9      		ret
1261:				
1262:				; 32-bit crc routine
1263:				; entry: a contains next byte, hl points to crc
1264:				; exit:  crc updated
1265: 3925+11	174B  F5      	updcrc:	push	af
1266: 3936+11	174C  C5      		push	bc
1267: 3947+11	174D  D5      		push	de
1268: 3958+11	174E  E5      		push	hl
1269: 3969+11	174F  E5      		push	hl
1270: 3980+10	1750  110300  		ld	de,3
1271: 3990+11	1753  19      		add	hl,de	; point to low byte of old crc
1272: 4001+7	1754  AE      		xor	a,(hl)	; xor with new byte
1273: 4008+4	1755  6F      		ld	l,a
1274: 4012+7	1756  2600    		ld	h,0
1275: 4019+11	1758  29      		add	hl,hl	; use result as index into table of 4 byte entries
1276: 4030+11	1759  29      		add	hl,hl
1277: 4041+4	175A  EB      		ex	de,hl
1278: 4045+10	175B  218B17  		ld	hl,crctab
1279: 4055+11	175E  19      		add	hl,de	; point to selected entry in crctab
1280: 4066+4	175F  EB      		ex	de,hl
1281: 4070+10	1760  E1      		pop	hl
1282: 4080+10	1761  010400  		ld	bc,4	; c = byte count, b = accumulator
1283: 4090+7	1764  1A      	crclp:	ld	a,(de)
1284: 4097+4	1765  A8      		xor	a,b
1285: 4101+7	1766  46      		ld	b,(hl)
1286: 4108+7	1767  77      		ld	(hl),a
1287: 4115+6	1768  13      		inc	de
1288: 4121+6	1769  23      		inc	hl
1289: 4127+4	176A  0D      		dec	c
1290: 4131+10	176B  C26417  		jp	nz,crclp
1291:     -	0000          	      if	0
1297:				      endif
1298: 4141+10	176E  E1      		pop	hl
1299: 4151+10	176F  D1      		pop	de
1300: 4161+10	1770  C1      		pop	bc
1301: 4171+10	1771  F1      		pop	af
1302: 4181+10	1772  C9      		ret
1303:				
1304: 4191+11	1773  F5      	initcrc:push	af
1305: 4202+11	1774  C5      		push	bc
1306: 4213+11	1775  E5      		push	hl
1307: 4224+10	1776  218717  		ld	hl,crcval
1308: 4234+7	1779  3EFF    		ld	a,0ffh
1309: 4241+7	177B  0604    		ld	b,4
1310: 4248+7	177D  77      	icrclp:	ld	(hl),a
1311: 4255+6	177E  23      		inc	hl
1312: 4261+4	177F  05      		dec	b
1313: 4265+10	1780  C27D17  		jp	nz,icrclp
1314: 4275+10	1783  E1      		pop	hl
1315: 4285+10	1784  C1      		pop	bc
1316: 4295+10	1785  F1      		pop	af
1317: 4305+10	1786  C9      		ret
1318:				
1319:     -	1787          	crcval	ds	4
1320:				
1321:     -	178B  00000000	crctab:	db	000h,000h,000h,000h
1322:     -	178F  77073096		db	077h,007h,030h,096h
1323:     -	1793  EE0E612C		db	0eeh,00eh,061h,02ch
1324:     -	1797  990951BA		db	099h,009h,051h,0bah
1325:     -	179B  076DC419		db	007h,06dh,0c4h,019h
1326:     -	179F  706AF48F		db	070h,06ah,0f4h,08fh
1327:     -	17A3  E963A535		db	0e9h,063h,0a5h,035h
1328:     -	17A7  9E6495A3		db	09eh,064h,095h,0a3h
1329:     -	17AB  0EDB8832		db	00eh,0dbh,088h,032h
1330:     -	17AF  79DCB8A4		db	079h,0dch,0b8h,0a4h
1331:     -	17B3  E0D5E91E		db	0e0h,0d5h,0e9h,01eh
1332:     -	17B7  97D2D988		db	097h,0d2h,0d9h,088h
1333:     -	17BB  09B64C2B		db	009h,0b6h,04ch,02bh
1334:     -	17BF  7EB17CBD		db	07eh,0b1h,07ch,0bdh
1335:     -	17C3  E7B82D07		db	0e7h,0b8h,02dh,007h
1336:     -	17C7  90BF1D91		db	090h,0bfh,01dh,091h
1337:     -	17CB  1DB71064		db	01dh,0b7h,010h,064h
1338:     -	17CF  6AB020F2		db	06ah,0b0h,020h,0f2h
1339:     -	17D3  F3B97148		db	0f3h,0b9h,071h,048h
1340:     -	17D7  84BE41DE		db	084h,0beh,041h,0deh
1341:     -	17DB  1ADAD47D		db	01ah,0dah,0d4h,07dh
1342:     -	17DF  6DDDE4EB		db	06dh,0ddh,0e4h,0ebh
1343:     -	17E3  F4D4B551		db	0f4h,0d4h,0b5h,051h
1344:     -	17E7  83D385C7		db	083h,0d3h,085h,0c7h
1345:     -	17EB  136C9856		db	013h,06ch,098h,056h
1346:     -	17EF  646BA8C0		db	064h,06bh,0a8h,0c0h
1347:     -	17F3  FD62F97A		db	0fdh,062h,0f9h,07ah
1348:     -	17F7  8A65C9EC		db	08ah,065h,0c9h,0ech
1349:     -	17FB  14015C4F		db	014h,001h,05ch,04fh
1350:     -	17FF  63066CD9		db	063h,006h,06ch,0d9h
1351:     -	1803  FA0F3D63		db	0fah,00fh,03dh,063h
1352:     -	1807  8D080DF5		db	08dh,008h,00dh,0f5h
1353:     -	180B  3B6E20C8		db	03bh,06eh,020h,0c8h
1354:     -	180F  4C69105E		db	04ch,069h,010h,05eh
1355:     -	1813  D56041E4		db	0d5h,060h,041h,0e4h
1356:     -	1817  A2677172		db	0a2h,067h,071h,072h
1357:     -	181B  3C03E4D1		db	03ch,003h,0e4h,0d1h
1358:     -	181F  4B04D447		db	04bh,004h,0d4h,047h
1359:     -	1823  D20D85FD		db	0d2h,00dh,085h,0fdh
1360:     -	1827  A50AB56B		db	0a5h,00ah,0b5h,06bh
1361:     -	182B  35B5A8FA		db	035h,0b5h,0a8h,0fah
1362:     -	182F  42B2986C		db	042h,0b2h,098h,06ch
1363:     -	1833  DBBBC9D6		db	0dbh,0bbh,0c9h,0d6h
1364:     -	1837  ACBCF940		db	0ach,0bch,0f9h,040h
1365:     -	183B  32D86CE3		db	032h,0d8h,06ch,0e3h
1366:     -	183F  45DF5C75		db	045h,0dfh,05ch,075h
1367:     -	1843  DCD60DCF		db	0dch,0d6h,00dh,0cfh
1368:     -	1847  ABD13D59		db	0abh,0d1h,03dh,059h
1369:     -	184B  26D930AC		db	026h,0d9h,030h,0ach
1370:     -	184F  51DE003A		db	051h,0deh,000h,03ah
1371:     -	1853  C8D75180		db	0c8h,0d7h,051h,080h
1372:     -	1857  BFD06116		db	0bfh,0d0h,061h,016h
1373:     -	185B  21B4F4B5		db	021h,0b4h,0f4h,0b5h
1374:     -	185F  56B3C423		db	056h,0b3h,0c4h,023h
1375:     -	1863  CFBA9599		db	0cfh,0bah,095h,099h
1376:     -	1867  B8BDA50F		db	0b8h,0bdh,0a5h,00fh
1377:     -	186B  2802B89E		db	028h,002h,0b8h,09eh
1378:     -	186F  5F058808		db	05fh,005h,088h,008h
1379:     -	1873  C60CD9B2		db	0c6h,00ch,0d9h,0b2h
1380:     -	1877  B10BE924		db	0b1h,00bh,0e9h,024h
1381:     -	187B  2F6F7C87		db	02fh,06fh,07ch,087h
1382:     -	187F  58684C11		db	058h,068h,04ch,011h
1383:     -	1883  C1611DAB		db	0c1h,061h,01dh,0abh
1384:     -	1887  B6662D3D		db	0b6h,066h,02dh,03dh
1385:     -	188B  76DC4190		db	076h,0dch,041h,090h
1386:     -	188F  01DB7106		db	001h,0dbh,071h,006h
1387:     -	1893  98D220BC		db	098h,0d2h,020h,0bch
1388:     -	1897  EFD5102A		db	0efh,0d5h,010h,02ah
1389:     -	189B  71B18589		db	071h,0b1h,085h,089h
1390:     -	189F  06B6B51F		db	006h,0b6h,0b5h,01fh
1391:     -	18A3  9FBFE4A5		db	09fh,0bfh,0e4h,0a5h
1392:     -	18A7  E8B8D433		db	0e8h,0b8h,0d4h,033h
1393:     -	18AB  7807C9A2		db	078h,007h,0c9h,0a2h
1394:     -	18AF  0F00F934		db	00fh,000h,0f9h,034h
1395:     -	18B3  9609A88E		db	096h,009h,0a8h,08eh
1396:     -	18B7  E10E9818		db	0e1h,00eh,098h,018h
1397:     -	18BB  7F6A0DBB		db	07fh,06ah,00dh,0bbh
1398:     -	18BF  086D3D2D		db	008h,06dh,03dh,02dh
1399:     -	18C3  91646C97		db	091h,064h,06ch,097h
1400:     -	18C7  E6635C01		db	0e6h,063h,05ch,001h
1401:     -	18CB  6B6B51F4		db	06bh,06bh,051h,0f4h
1402:     -	18CF  1C6C6162		db	01ch,06ch,061h,062h
1403:     -	18D3  856530D8		db	085h,065h,030h,0d8h
1404:     -	18D7  F262004E		db	0f2h,062h,000h,04eh
1405:     -	18DB  6C0695ED		db	06ch,006h,095h,0edh
1406:     -	18DF  1B01A57B		db	01bh,001h,0a5h,07bh
1407:     -	18E3  8208F4C1		db	082h,008h,0f4h,0c1h
1408:     -	18E7  F50FC457		db	0f5h,00fh,0c4h,057h
1409:     -	18EB  65B0D9C6		db	065h,0b0h,0d9h,0c6h
1410:     -	18EF  12B7E950		db	012h,0b7h,0e9h,050h
1411:     -	18F3  8BBEB8EA		db	08bh,0beh,0b8h,0eah
1412:     -	18F7  FCB9887C		db	0fch,0b9h,088h,07ch
1413:     -	18FB  62DD1DDF		db	062h,0ddh,01dh,0dfh
1414:     -	18FF  15DA2D49		db	015h,0dah,02dh,049h
1415:     -	1903  8CD37CF3		db	08ch,0d3h,07ch,0f3h
1416:     -	1907  FBD44C65		db	0fbh,0d4h,04ch,065h
1417:     -	190B  4DB26158		db	04dh,0b2h,061h,058h
1418:     -	190F  3AB551CE		db	03ah,0b5h,051h,0ceh
1419:     -	1913  A3BC0074		db	0a3h,0bch,000h,074h
1420:     -	1917  D4BB30E2		db	0d4h,0bbh,030h,0e2h
1421:     -	191B  4ADFA541		db	04ah,0dfh,0a5h,041h
1422:     -	191F  3DD895D7		db	03dh,0d8h,095h,0d7h
1423:     -	1923  A4D1C46D		db	0a4h,0d1h,0c4h,06dh
1424:     -	1927  D3D6F4FB		db	0d3h,0d6h,0f4h,0fbh
1425:     -	192B  4369E96A		db	043h,069h,0e9h,06ah
1426:     -	192F  346ED9FC		db	034h,06eh,0d9h,0fch
1427:     -	1933  AD678846		db	0adh,067h,088h,046h
1428:     -	1937  DA60B8D0		db	0dah,060h,0b8h,0d0h
1429:     -	193B  44042D73		db	044h,004h,02dh,073h
1430:     -	193F  33031DE5		db	033h,003h,01dh,0e5h
1431:     -	1943  AA0A4C5F		db	0aah,00ah,04ch,05fh
1432:     -	1947  DD0D7CC9		db	0ddh,00dh,07ch,0c9h
1433:     -	194B  5005713C		db	050h,005h,071h,03ch
1434:     -	194F  270241AA		db	027h,002h,041h,0aah
1435:     -	1953  BE0B1010		db	0beh,00bh,010h,010h
1436:     -	1957  C90C2086		db	0c9h,00ch,020h,086h
1437:     -	195B  5768B525		db	057h,068h,0b5h,025h
1438:     -	195F  206F85B3		db	020h,06fh,085h,0b3h
1439:     -	1963  B966D409		db	0b9h,066h,0d4h,009h
1440:     -	1967  CE61E49F		db	0ceh,061h,0e4h,09fh
1441:     -	196B  5EDEF90E		db	05eh,0deh,0f9h,00eh
1442:     -	196F  29D9C998		db	029h,0d9h,0c9h,098h
1443:     -	1973  B0D09822		db	0b0h,0d0h,098h,022h
1444:     -	1977  C7D7A8B4		db	0c7h,0d7h,0a8h,0b4h
1445:     -	197B  59B33D17		db	059h,0b3h,03dh,017h
1446:     -	197F  2EB40D81		db	02eh,0b4h,00dh,081h
1447:     -	1983  B7BD5C3B		db	0b7h,0bdh,05ch,03bh
1448:     -	1987  C0BA6CAD		db	0c0h,0bah,06ch,0adh
1449:     -	198B  EDB88320		db	0edh,0b8h,083h,020h
1450:     -	198F  9ABFB3B6		db	09ah,0bfh,0b3h,0b6h
1451:     -	1993  03B6E20C		db	003h,0b6h,0e2h,00ch
1452:     -	1997  74B1D29A		db	074h,0b1h,0d2h,09ah
1453:     -	199B  EAD54739		db	0eah,0d5h,047h,039h
1454:     -	199F  9DD277AF		db	09dh,0d2h,077h,0afh
1455:     -	19A3  04DB2615		db	004h,0dbh,026h,015h
1456:     -	19A7  73DC1683		db	073h,0dch,016h,083h
1457:     -	19AB  E3630B12		db	0e3h,063h,00bh,012h
1458:     -	19AF  94643B84		db	094h,064h,03bh,084h
1459:     -	19B3  0D6D6A3E		db	00dh,06dh,06ah,03eh
1460:     -	19B7  7A6A5AA8		db	07ah,06ah,05ah,0a8h
1461:     -	19BB  E40ECF0B		db	0e4h,00eh,0cfh,00bh
1462:     -	19BF  9309FF9D		db	093h,009h,0ffh,09dh
1463:     -	19C3  0A00AE27		db	00ah,000h,0aeh,027h
1464:     -	19C7  7D079EB1		db	07dh,007h,09eh,0b1h
1465:     -	19CB  F00F9344		db	0f0h,00fh,093h,044h
1466:     -	19CF  8708A3D2		db	087h,008h,0a3h,0d2h
1467:     -	19D3  1E01F268		db	01eh,001h,0f2h,068h
1468:     -	19D7  6906C2FE		db	069h,006h,0c2h,0feh
1469:     -	19DB  F762575D		db	0f7h,062h,057h,05dh
1470:     -	19DF  806567CB		db	080h,065h,067h,0cbh
1471:     -	19E3  196C3671		db	019h,06ch,036h,071h
1472:     -	19E7  6E6B06E7		db	06eh,06bh,006h,0e7h
1473:     -	19EB  FED41B76		db	0feh,0d4h,01bh,076h
1474:     -	19EF  89D32BE0		db	089h,0d3h,02bh,0e0h
1475:     -	19F3  10DA7A5A		db	010h,0dah,07ah,05ah
1476:     -	19F7  67DD4ACC		db	067h,0ddh,04ah,0cch
1477:     -	19FB  F9B9DF6F		db	0f9h,0b9h,0dfh,06fh
1478:     -	19FF  8EBEEFF9		db	08eh,0beh,0efh,0f9h
1479:     -	1A03  17B7BE43		db	017h,0b7h,0beh,043h
1480:     -	1A07  60B08ED5		db	060h,0b0h,08eh,0d5h
1481:     -	1A0B  D6D6A3E8		db	0d6h,0d6h,0a3h,0e8h
1482:     -	1A0F  A1D1937E		db	0a1h,0d1h,093h,07eh
1483:     -	1A13  38D8C2C4		db	038h,0d8h,0c2h,0c4h
1484:     -	1A17  4FDFF252		db	04fh,0dfh,0f2h,052h
1485:     -	1A1B  D1BB67F1		db	0d1h,0bbh,067h,0f1h
1486:     -	1A1F  A6BC5767		db	0a6h,0bch,057h,067h
1487:     -	1A23  3FB506DD		db	03fh,0b5h,006h,0ddh
1488:     -	1A27  48B2364B		db	048h,0b2h,036h,04bh
1489:     -	1A2B  D80D2BDA		db	0d8h,00dh,02bh,0dah
1490:     -	1A2F  AF0A1B4C		db	0afh,00ah,01bh,04ch
1491:     -	1A33  36034AF6		db	036h,003h,04ah,0f6h
1492:     -	1A37  41047A60		db	041h,004h,07ah,060h
1493:     -	1A3B  DF60EFC3		db	0dfh,060h,0efh,0c3h
1494:     -	1A3F  A867DF55		db	0a8h,067h,0dfh,055h
1495:     -	1A43  316E8EEF		db	031h,06eh,08eh,0efh
1496:     -	1A47  4669BE79		db	046h,069h,0beh,079h
1497:     -	1A4B  CB61B38C		db	0cbh,061h,0b3h,08ch
1498:     -	1A4F  BC66831A		db	0bch,066h,083h,01ah
1499:     -	1A53  256FD2A0		db	025h,06fh,0d2h,0a0h
1500:     -	1A57  5268E236		db	052h,068h,0e2h,036h
1501:     -	1A5B  CC0C7795		db	0cch,00ch,077h,095h
1502:     -	1A5F  BB0B4703		db	0bbh,00bh,047h,003h
1503:     -	1A63  220216B9		db	022h,002h,016h,0b9h
1504:     -	1A67  5505262F		db	055h,005h,026h,02fh
1505:     -	1A6B  C5BA3BBE		db	0c5h,0bah,03bh,0beh
1506:     -	1A6F  B2BD0B28		db	0b2h,0bdh,00bh,028h
1507:     -	1A73  2BB45A92		db	02bh,0b4h,05ah,092h
1508:     -	1A77  5CB36A04		db	05ch,0b3h,06ah,004h
1509:     -	1A7B  C2D7FFA7		db	0c2h,0d7h,0ffh,0a7h
1510:     -	1A7F  B5D0CF31		db	0b5h,0d0h,0cfh,031h
1511:     -	1A83  2CD99E8B		db	02ch,0d9h,09eh,08bh
1512:     -	1A87  5BDEAE1D		db	05bh,0deh,0aeh,01dh
1513:     -	1A8B  9B64C2B0		db	09bh,064h,0c2h,0b0h
1514:     -	1A8F  EC63F226		db	0ech,063h,0f2h,026h
1515:     -	1A93  756AA39C		db	075h,06ah,0a3h,09ch
1516:     -	1A97  026D930A		db	002h,06dh,093h,00ah
1517:     -	1A9B  9C0906A9		db	09ch,009h,006h,0a9h
1518:     -	1A9F  EB0E363F		db	0ebh,00eh,036h,03fh
1519:     -	1AA3  72076785		db	072h,007h,067h,085h
1520:     -	1AA7  05005713		db	005h,000h,057h,013h
1521:     -	1AAB  95BF4A82		db	095h,0bfh,04ah,082h
1522:     -	1AAF  E2B87A14		db	0e2h,0b8h,07ah,014h
1523:     -	1AB3  7BB12BAE		db	07bh,0b1h,02bh,0aeh
1524:     -	1AB7  0CB61B38		db	00ch,0b6h,01bh,038h
1525:     -	1ABB  92D28E9B		db	092h,0d2h,08eh,09bh
1526:     -	1ABF  E5D5BE0D		db	0e5h,0d5h,0beh,00dh
1527:     -	1AC3  7CDCEFB7		db	07ch,0dch,0efh,0b7h
1528:     -	1AC7  0BDBDF21		db	00bh,0dbh,0dfh,021h
1529:     -	1ACB  86D3D2D4		db	086h,0d3h,0d2h,0d4h
1530:     -	1ACF  F1D4E242		db	0f1h,0d4h,0e2h,042h
1531:     -	1AD3  68DDB3F8		db	068h,0ddh,0b3h,0f8h
1532:     -	1AD7  1FDA836E		db	01fh,0dah,083h,06eh
1533:     -	1ADB  81BE16CD		db	081h,0beh,016h,0cdh
1534:     -	1ADF  F6B9265B		db	0f6h,0b9h,026h,05bh
1535:     -	1AE3  6FB077E1		db	06fh,0b0h,077h,0e1h
1536:     -	1AE7  18B74777		db	018h,0b7h,047h,077h
1537:     -	1AEB  88085AE6		db	088h,008h,05ah,0e6h
1538:     -	1AEF  FF0F6A70		db	0ffh,00fh,06ah,070h
1539:     -	1AF3  66063BCA		db	066h,006h,03bh,0cah
1540:     -	1AF7  11010B5C		db	011h,001h,00bh,05ch
1541:     -	1AFB  8F659EFF		db	08fh,065h,09eh,0ffh
1542:     -	1AFF  F862AE69		db	0f8h,062h,0aeh,069h
1543:     -	1B03  616BFFD3		db	061h,06bh,0ffh,0d3h
1544:     -	1B07  166CCF45		db	016h,06ch,0cfh,045h
1545:     -	1B0B  A00AE278		db	0a0h,00ah,0e2h,078h
1546:     -	1B0F  D70DD2EE		db	0d7h,00dh,0d2h,0eeh
1547:     -	1B13  4E048354		db	04eh,004h,083h,054h
1548:     -	1B17  3903B3C2		db	039h,003h,0b3h,0c2h
1549:     -	1B1B  A7672661		db	0a7h,067h,026h,061h
1550:     -	1B1F  D06016F7		db	0d0h,060h,016h,0f7h
1551:     -	1B23  4969474D		db	049h,069h,047h,04dh
1552:     -	1B27  3E6E77DB		db	03eh,06eh,077h,0dbh
1553:     -	1B2B  AED16A4A		db	0aeh,0d1h,06ah,04ah
1554:     -	1B2F  D9D65ADC		db	0d9h,0d6h,05ah,0dch
1555:     -	1B33  40DF0B66		db	040h,0dfh,00bh,066h
1556:     -	1B37  37D83BF0		db	037h,0d8h,03bh,0f0h
1557:     -	1B3B  A9BCAE53		db	0a9h,0bch,0aeh,053h
1558:     -	1B3F  DEBB9EC5		db	0deh,0bbh,09eh,0c5h
1559:     -	1B43  47B2CF7F		db	047h,0b2h,0cfh,07fh
1560:     -	1B47  30B5FFE9		db	030h,0b5h,0ffh,0e9h
1561:     -	1B4B  BDBDF21C		db	0bdh,0bdh,0f2h,01ch
1562:     -	1B4F  CABAC28A		db	0cah,0bah,0c2h,08ah
1563:     -	1B53  53B39330		db	053h,0b3h,093h,030h
1564:     -	1B57  24B4A3A6		db	024h,0b4h,0a3h,0a6h
1565:     -	1B5B  BAD03605		db	0bah,0d0h,036h,005h
1566:     -	1B5F  CDD70693		db	0cdh,0d7h,006h,093h
1567:     -	1B63  54DE5729		db	054h,0deh,057h,029h
1568:     -	1B67  23D967BF		db	023h,0d9h,067h,0bfh
1569:     -	1B6B  B3667A2E		db	0b3h,066h,07ah,02eh
1570:     -	1B6F  C4614AB8		db	0c4h,061h,04ah,0b8h
1571:     -	1B73  5D681B02		db	05dh,068h,01bh,002h
1572:     -	1B77  2A6F2B94		db	02ah,06fh,02bh,094h
1573:     -	1B7B  B40BBE37		db	0b4h,00bh,0beh,037h
1574:     -	1B7F  C30C8EA1		db	0c3h,00ch,08eh,0a1h
1575:     -	1B83  5A05DF1B		db	05ah,005h,0dfh,01bh
1576:     -	1B87  2D02EF8D		db	02dh,002h,0efh,08dh
1577:				



Statistics:

     4	passes
     0	jr promotions
   412	symbols
  6667	bytes

   268	macro calls
   263	macro bytes
  1072	invented symbols



Symbol Table:

?b0003           203      515
?b0007           248      584
?b0011           28D      653
?b0015           2D2      722
?b0019           317      791
?b0023           35C      860
?b0027           3A1      929
?b0031           3E6      998
?b0035           42B      1067
?b0039           470      1136
?b0043           4B5      1205
?b0047           4FA      1274
?b0051           53F      1343
?b0055           584      1412
?b0059           5C9      1481
?b0063           60E      1550
?b0067           653      1619
?b0071           698      1688
?b0075           6DD      1757
?b0079           722      1826
?b0083           767      1895
?b0087           7AC      1964
?b0091           7F1      2033
?b0095           836      2102
?b0099           87B      2171
?b0103           8C0      2240
?b0107           905      2309
?b0111           94A      2378
?b0115           98F      2447
?b0119           9D4      2516
?b0123           A19      2585
?b0127           A5E      2654
?b0131           AA3      2723
?b0135           AE8      2792
?b0139           B2D      2861
?b0143           B72      2930
?b0147           BB7      2999
?b0151           BFC      3068
?b0155           C41      3137
?b0159           C86      3206
?b0163           CCB      3275
?b0167           D10      3344
?b0171           D55      3413
?b0175           D9A      3482
?b0179           DDF      3551
?b0183           E24      3620
?b0187           E69      3689
?b0191           EAE      3758
?b0195           EF3      3827
?b0199           F38      3896
?b0203           F7D      3965
?b0207           FC2      4034
?b0211          1007      4103
?b0215          104C      4172
?b0219          1091      4241
?b0223          10D6      4310
?b0227          111B      4379
?b0231          1160      4448
?b0235          11A5      4517
?b0239          11EA      4586
?b0243          122F      4655
?b0247          1274      4724
?b0251          12B9      4793
?b0255          12FE      4862
?b0259          1343      4931
?b0263          1388      5000
?b0267          13CD      5069
?n0000           1C3      451
?n0001           1D7      471
?n0002           1EB      491
?n0004           208      520
?n0005           21C      540
?n0006           230      560
?n0008           24D      589
?n0009           261      609
?n0010           275      629
?n0012           292      658
?n0013           2A6      678
?n0014           2BA      698
?n0016           2D7      727
?n0017           2EB      747
?n0018           2FF      767
?n0020           31C      796
?n0021           330      816
?n0022           344      836
?n0024           361      865
?n0025           375      885
?n0026           389      905
?n0028           3A6      934
?n0029           3BA      954
?n0030           3CE      974
?n0032           3EB      1003
?n0033           3FF      1023
?n0034           413      1043
?n0036           430      1072
?n0037           444      1092
?n0038           458      1112
?n0040           475      1141
?n0041           489      1161
?n0042           49D      1181
?n0044           4BA      1210
?n0045           4CE      1230
?n0046           4E2      1250
?n0048           4FF      1279
?n0049           513      1299
?n0050           527      1319
?n0052           544      1348
?n0053           558      1368
?n0054           56C      1388
?n0056           589      1417
?n0057           59D      1437
?n0058           5B1      1457
?n0060           5CE      1486
?n0061           5E2      1506
?n0062           5F6      1526
?n0064           613      1555
?n0065           627      1575
?n0066           63B      1595
?n0068           658      1624
?n0069           66C      1644
?n0070           680      1664
?n0072           69D      1693
?n0073           6B1      1713
?n0074           6C5      1733
?n0076           6E2      1762
?n0077           6F6      1782
?n0078           70A      1802
?n0080           727      1831
?n0081           73B      1851
?n0082           74F      1871
?n0084           76C      1900
?n0085           780      1920
?n0086           794      1940
?n0088           7B1      1969
?n0089           7C5      1989
?n0090           7D9      2009
?n0092           7F6      2038
?n0093           80A      2058
?n0094           81E      2078
?n0096           83B      2107
?n0097           84F      2127
?n0098           863      2147
?n0100           880      2176
?n0101           894      2196
?n0102           8A8      2216
?n0104           8C5      2245
?n0105           8D9      2265
?n0106           8ED      2285
?n0108           90A      2314
?n0109           91E      2334
?n0110           932      2354
?n0112           94F      2383
?n0113           963      2403
?n0114           977      2423
?n0116           994      2452
?n0117           9A8      2472
?n0118           9BC      2492
?n0120           9D9      2521
?n0121           9ED      2541
?n0122           A01      2561
?n0124           A1E      2590
?n0125           A32      2610
?n0126           A46      2630
?n0128           A63      2659
?n0129           A77      2679
?n0130           A8B      2699
?n0132           AA8      2728
?n0133           ABC      2748
?n0134           AD0      2768
?n0136           AED      2797
?n0137           B01      2817
?n0138           B15      2837
?n0140           B32      2866
?n0141           B46      2886
?n0142           B5A      2906
?n0144           B77      2935
?n0145           B8B      2955
?n0146           B9F      2975
?n0148           BBC      3004
?n0149           BD0      3024
?n0150           BE4      3044
?n0152           C01      3073
?n0153           C15      3093
?n0154           C29      3113
?n0156           C46      3142
?n0157           C5A      3162
?n0158           C6E      3182
?n0160           C8B      3211
?n0161           C9F      3231
?n0162           CB3      3251
?n0164           CD0      3280
?n0165           CE4      3300
?n0166           CF8      3320
?n0168           D15      3349
?n0169           D29      3369
?n0170           D3D      3389
?n0172           D5A      3418
?n0173           D6E      3438
?n0174           D82      3458
?n0176           D9F      3487
?n0177           DB3      3507
?n0178           DC7      3527
?n0180           DE4      3556
?n0181           DF8      3576
?n0182           E0C      3596
?n0184           E29      3625
?n0185           E3D      3645
?n0186           E51      3665
?n0188           E6E      3694
?n0189           E82      3714
?n0190           E96      3734
?n0192           EB3      3763
?n0193           EC7      3783
?n0194           EDB      3803
?n0196           EF8      3832
?n0197           F0C      3852
?n0198           F20      3872
?n0200           F3D      3901
?n0201           F51      3921
?n0202           F65      3941
?n0204           F82      3970
?n0205           F96      3990
?n0206           FAA      4010
?n0208           FC7      4039
?n0209           FDB      4059
?n0210           FEF      4079
?n0212          100C      4108
?n0213          1020      4128
?n0214          1034      4148
?n0216          1051      4177
?n0217          1065      4197
?n0218          1079      4217
?n0220          1096      4246
?n0221          10AA      4266
?n0222          10BE      4286
?n0224          10DB      4315
?n0225          10EF      4335
?n0226          1103      4355
?n0228          1120      4384
?n0229          1134      4404
?n0230          1148      4424
?n0232          1165      4453
?n0233          1179      4473
?n0234          118D      4493
?n0236          11AA      4522
?n0237          11BE      4542
?n0238          11D2      4562
?n0240          11EF      4591
?n0241          1203      4611
?n0242          1217      4631
?n0244          1234      4660
?n0245          1248      4680
?n0246          125C      4700
?n0248          1279      4729
?n0249          128D      4749
?n0250          12A1      4769
?n0252          12BE      4798
?n0253          12D2      4818
?n0254          12E6      4838
?n0256          1303      4867
?n0257          1317      4887
?n0258          132B      4907
?n0260          1348      4936
?n0261          135C      4956
?n0262          1370      4976
?n0264          138D      5005
?n0265          13A1      5025
?n0266          13B5      5045
adc16            1C2      450
add16            207      519
add16x           24C      588
add16y           291      657
alu8i            2D6      726
alu8r            31B      795
alu8rx           360      864
alu8x            3A5      933
bdos            16BD      5821
bdosex          16D5      5845
bdosstr         16CB      5835
bitx             3EA      1002
bitz80           42F      1071
cce             1747      5959
cclp            173C      5948
clrmem          1527      5415
cmpcrc          1734      5940
cntbit          14DF      5343
cntbyt          14E0      5344
cntend          1593      5523
cntlp           1584      5508
cntlp1          1597      5527
count           1578      5496
counter         15C9      5577
cpd1             474      1140
cpi1             4B9      1209
crclp           1764      5988
crctab          178B      6027
crcval          1787      6023
crlf            1707      5895
daaop            4FE      1278
done             12F      303
ermsg1          1711      5905
ermsg2          172C      5932
flgmsk          1653      5715
flgsat         =1678      5752
hexstr          167E      5758
icrclp          177D      6013
imlp            1547      5447
imlp1           1548      5448
imlp2           154E      5454
imlp3           156B      5483
inca             543      1347
incb             588      1416
incbc            5CD      1485
incc             612      1554
incd             657      1623
incde            69C      1692
ince             6E1      1761
inch             726      1830
inchl            76B      1899
incix            7B0      1968
inciy            7F5      2037
incl             83A      2106
incm             87F      2175
incsp            8C4      2244
incx             909      2313
incxh            94E      2382
incxl            993      2451
incyh            9D8      2520
incyl            A1D      2589
initcrc         1773      6003
initmask        1538      5432
iut             1631      5681
ld161            A62      2658
ld162            AA7      2727
ld163            AEC      2796
ld164            B31      2865
ld165            B76      2934
ld166            BBB      3003
ld167            C00      3072
ld168            C45      3141
ld16im           C8A      3210
ld16ix           CCF      3279
ld8bd            D14      3348
ld8im            D59      3417
ld8imx           D9E      3486
ld8ix1           DE3      3555
ld8ix2           E28      3624
ld8ix3           E6D      3693
ld8ixy           EB2      3762
ld8rr            EF7      3831
ld8rrx           F3C      3900
lda              F81      3969
ldd1             FC6      4038
ldd2            100B      4107
ldi1            1050      4176
ldi2            1095      4245
loop             122      290
msat            166C      5740
msbt             103      259
msbthi         =01        1
msbtlo         =03        3
msg1            16DA      5850
msg2            16F9      5881
ncb1            14FB      5371
negop           10DA      4314
nsb1            151F      5407
nxtcbit         14E2      5346
nxtsbit         1506      5382
okmsg           170A      5898
ph11            16B0      5808
ph8lp           168D      5773
phex1           16A3      5795
phex2           169A      5786
phex8           1688      5768
rldop           111F      4383
rot8080         1164      4452
rotxy           11A9      4521
rotz80          11EE      4590
sbshf1          14C9      5321
setup           1493      5267
shfbit          1503      5379
shfbyt          1504      5380
shflp           15A8      5544
shflp1          15C4      5572
shflp2          15BE      5566
shift           159C      5532
shifter         15F1      5617
shlpe           15C0      5568
spat            167A      5754
spbt             111      273
spsav           167C      5756
srz80           1233      4659
srzx            1278      4728
st8ix1          12BD      4797
st8ix2          1302      4866
st8ix3          1347      4935
stabd           138C      5004
start            113      275
stt             13D1      5073
subclp          14AC      5292
subshf          14BD      5309
substr          14D8      5336
subyte          149C      5276
tcrc            165E      5726
test            1619      5657
tests            13A      314
tlp             1416      5142
tlp1            142A      5162
tlp2            142D      5165
tlp3            1469      5225
tlpok           1460      5216
updcrc          174B      5963
